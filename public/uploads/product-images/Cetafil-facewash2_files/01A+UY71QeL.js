(function(c){var a=window.AmazonUIPageJS||window.P,f=a._namespace||a.attributeErrors,d=f?f("DramAssets",""):a;d.guardFatal?d.guardFatal(c)(d,window):d.execute(function(){c(d,window)})})(function(c,a,f){c.when("jQuery","A").execute("dram-lazy-load",function(d,e){var l=a.ue&&a.ue.count||function(){},k=function(b){l(b,(l(b)||0)+1)},p=function(b,g){if(!b.hasAttribute("lazy-load-status")){g=null==g?"None":g;b.setAttribute("lazy-load-status","initiated");b.querySelector(".lazy-load-spinner").classList.add("lazy-load-spinner-animation");
var n=b.querySelector(".json-content").innerText.trim(),a=b.getAttribute("data-region-info"),m={};a&&(m["X-Amz-ajax-region"]=a);e.post("/dram/renderLazyLoaded",{params:n,headers:m,accepts:"application/json",contentType:"application/json",paramsFormat:"json",success:function(a){var c="";a&&a.cards&&0<a.cards.length&&a.cards[0].content&&(c=a.cards[0].content);d(b.querySelector(".widget-html-container")).html(c);e.trigger("a:pageUpdate");e.loadDynamicImage(b.querySelectorAll(".widget-html-container img.a-dynamic-image"));
b.setAttribute("lazy-load-status","loaded");k("dram:lazy-loader:"+g+":success")},error:function(a){d(b.querySelector(".widget-html-container")).html("");b.setAttribute("lazy-load-status","failed");0===a.readyState?(k("dram:lazy-loader:"+g+":warn"),c.log("Warning while processing lazy loading due to "+a.responseText,"WARN","LazyLoading")):(k("dram:lazy-loader:"+g+":error"),c.log("Error while processing lazy loading due to "+a.responseText,"ERROR","LazyLoading"))}})}},h=function(b,a,c){e.onScreen(b,
a)&&p(b,c)};e.on("dram:register-lazy-load-widget",function(a,c,d,f){var b=document.querySelector(a);e.on(e.constants.BROWSER_EVENTS.SCROLL,function(){h(b,c,d)});e.on(e.constants.BROWSER_EVENTS.RESIZE,function(){h(b,c,d)});e.on(e.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,function(){h(b,c,d)});f&&h(b,c,d)});c.now("dram-lazy-load-widget").execute("dram-initalize-lazy-load",function(a){a===f&&c.declare("dram-lazy-load-widget",{lazyLoadInitiated:!0})})})});