(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(B){var u=window.AmazonUIPageJS||window.P,T=u._namespace||u.attributeErrors,U=T?T("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):u;U.guardFatal?U.guardFatal(B)(U,window):U.execute(function(){B(U,window)})})(function(B,u,T){B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(m,b,f,M,l,H,I){function V(e,a,c,d,z){if(!f.isjQueryObjDefined(e.find(".a-button-selected"))){var n=
A.getCurrentItem();if(!d||"chromeless-video"!==n.type||!h.autoplayVideo){d=0;"image"===n.type&&(d=Math.max(f.getIndexForVariant(n.color,n.variant,h),0));var r=0;f.isDefined(h.heroImage[n.color])&&(r=h.heroImage[n.color].length);z=d-(a>=h.maxAlts?h.maxAlts-z-r:0);a=0<=z?a+z:d+r;a>=c&&(d=0,a=r);c=f.getImageHash(n.color,d,h);-1!==c&&(x.dispatch("updateModel",{data:{index:d,thumbnailIndex:a,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=e.find(".item").get(a),f.selectGivenThumbnail(b(c),
e))}}}function w(b){if(!h.useChildVideos)return f.lazyLoadingRequired(A.getCurrentItem(),A,h)?void 0:h.videos;if(h.colorToVideo[b])return h.colorToVideo[b];var a=h.colorToAsin[b];if(a&&a.asin){var c={};c.params={asin:a.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(c.success=function(a){videosOnTwisterRefresh(a)},M.load(VIDEO_AJAX_ENDPOINT,c));return h.colorToVideo&&h.colorToVideo[b]}}function N(n,
a,c){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&c)return n;var d=w(a),z=f.isDefined(d)&&0<d.length&&h.alwaysIncludeVideo?1:0;a=h.colorImages&&h.colorImages[a];d=n;var r=0;f.isDefined(a)&&(b.each(a,function(a,c){if(r>=h.maxAlts-z&&n<h.maxAlts+h.additionalNumberOfImageAlts){if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var d=b(".thumbItemUnrolled");d[n]?d[n].querySelector("img").src=c.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(n+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(n+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(n+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:a,thumbnailIndex:n,variant:c.variant,shoppableScene:c.shoppableScene},c.thumb,e,"imageThumbnail");n++}r++}),H.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(b,H,A),V(e,d,n,c,z));return n}function E(b,a){h.useIV&&f.isDefined(a.hiRes)&&b.css("cursor","pointer")}function D(e,a){if("image"===e.type&&S){var c=b("#image-canvas-caption #canvasCaption"),d=h.staticStrings,n=h.colorImages,r=e.color,t=e.index;if(f.isShoppableScenesEnabled()&&e.shoppableScene)var g=d.clickSceneTagsToShopProducts;else a&&
h.useIV?g=d.clickToExpand:n[r]&&n[r][t].hiRes&&h.useHoverZoom?(g=h.useHoverZoomIpad?d.touchToZoom:h.useClickZoom?d.clickToZoom:d.rollOverToZoom,h.hoverZoomIndicator&&(g="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+g)):h.useIV&&(g=d.clickToExpand);c.html(g)}}function F(e,a){var c="a-dynamic-image";if(!h.acEnabled){var d;b.each(e.main,function(a,c){f.isDefined(d)||(d=parseFloat(c[1]/c[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=d}var n=f.getMaxDimensionsOfMainImage(e.main,
t,h),r=n[0],g=n[1];n=b("\x3cdiv\x3e\x3c/div\x3e");r={"max-height":r,"max-width":g};n.addClass(c).css(r).attr({"data-old-hires":e.hiRes,"data-a-manual-replacement":"true",onload:a}).data("a-dynamic-image",e.main);return n}function q(f,a,c){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+f;"function"==typeof uet&&uet("bb",d,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+f);c=v.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
c.addClass("celwidget").attr("cel_widget_id",d);c.children("span").css("display","inline-block");x.dispatch("initialize-shoppable-scene",{index:f,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(c,d){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:f,shoppableScene:a.shoppableScene})}),d.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return c}function y(b,a,c){c=F(b,c);var d=f.isShoppableScenesEnabled()&&b.shoppableScene?q(a,b,c):
v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");var e="image item itemNo"+a+" maintain-height";b.feedbackMetadata&&(e+=" celwidget "+b.feedbackMetadata);d.addClass(e).attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});d.find(".placeHolder").replaceWith(c);v.find(".list").append(d);m.loadImageManually(c);return d}function K(f){var a=t.css("height");null!==a&&f.find(".imgTagWrapper").css("height",
a);f.addClass("selected");h.imgTagWrapperClasses&&f.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function L(e,a,c,d){if(2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||d||"unavailable"===e.type){if("image"===e.type||"unavailable"===e.type||"lazy-loaded"===e.type){c=f.getImageHash(e.color,e.index,h);if(-1===c)return a={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(e,A,h)||(x.dispatch("updateModel",a),f.showUnavailable(e.color)),
-1;d=v.find(".item.itemNo"+e.thumbnailIndex);f.isjQueryObjDefined(d)||(d=y(c,e.thumbnailIndex,a));K(d);x.dispatch("loadMagnifier");D(e);E(d,c);m.trigger("dp:image-block:update",c)}}else{e=h.colorImages&&h.colorImages[c];a=b(".unrolledImg");c=w(c);var r=f.isDefined(c)&&0<c.length&&h.alwaysIncludeVideo?1:0;a.length>h.maxAlts&&a.each(function(a){a>=h.maxAlts&&b(this).remove()});f.isDefined(e)&&b.each(e,function(a,c){a<h.maxAlts-r+h.additionalNumberOfImageAlts&&a>=h.maxAlts-r&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+r+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+r)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+r)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}}function k(e){var a=A.getCurrentItem().color;h.colorImages[a]||(h.colorImages[a]=e);e={type:"updatedData",data:A.getCurrentItem()};x.dispatch("updateView",e);(a=h.colorToAsin[a])&&a.asin&&B.register(f.rankedImagesReadyEvent(a.asin))}function g(){var e=v.find(".item .imgTagWrapper"),a=f.getContainerHeight(t,h.holderRatio,h.holderMaxHeight);
0<a&&(t.height(a),e.height(a));v.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&m.loadDynamicImage(this);var d=a.data("a-dynamic-image");d=f.getMaxDimensionsOfMainImage(d,t,h);a.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function r(e){D(A.getCurrentItem(),"mouseenter"===e.type)}var P,h,A,x,e,v,t,O,S=(l=m.state("imageBlockStateData"))?!l.shouldRemoveCaption:!0;return function(n,a,c,d){P=this;h=n;A=a;x=d;m.on("triggerImageAjax",k);h.colorImages[h.landingAsinColor]=
h.colorImages[h.defaultColor];P.render=function(a,c,d,r,g,p,k){v=d;e=r;t=g;O=N(c,a,p);p||(c=A.getCurrentItem(),f.lazyLoadingRequired(c,A,h)&&x.dispatch("updateModel",{data:{type:"lazy-loaded"}}));c=A.getCurrentItem();d=!p;f.lazyLoadingRequired(c,A,h)||(b("#imageBlock").css("opacity","1"),v.css("opacity","1"),f.spinner(v,!1),v.find("li").removeClass("selected"),S&&b("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),d&&v.find(".list .item").remove());L(A.getCurrentItem(),k,a,p);return O};
P.update=function(a){};h.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");x.register("imageHover",r);x.register("resize",g)}});"use strict";B.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(m,b,f){var u,l,H,I;return function(b,w,M,E){u=this;l=b;H=E;u.render=function(b,w,q,y,E,L,k){I=y;u=this;q=l.maxAlts;y=w;E=l.colorImages[b]?l.colorImages[b].length:0;E+=f.getVideosCount(b,l);b=l.heroImage[b];L=0;b&&(L=b.length);b=E+L;b>q&&(q=b-q,b=I.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
q+="+",y={type:"ingress",index:0,thumbnailIndex:w,variant:""},b.find("#altIngressText").append(q),m.declarative.create(b,"thumb-action",y),I.append(b),y=w++);return y};u.update=function(b){"ingress"===b.data.type&&"click"===b.type&&H.dispatch("imageClick",b)}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(m,b,f,u){function l(r,g,h,k){if(!f.isjQueryObjDefined(r.find(".a-button-selected"))){var x=y.getCurrentItem();if(!k||"chromeless-video"!==
x.type||!q.autoplayVideo){k=0;if("hero-image"===x.type){k=I(x.color,x.variant);if(-1===k)return;k=-1!==k?k:0}var e=g+k;e>=h&&(k=0,e=g);g=u.getHeroImageHash(q,x.color,k);-1!==g&&(K.dispatch("updateModel",{data:{index:k,thumbnailIndex:e,variant:g.variant,type:"hero-image"}}),g=r.find(".item").get(e),f.selectGivenThumbnail(b(g),r))}}}function H(r,g,h){if("hero-video"===y.getCurrentItem().type)return r;g=q.heroImage&&q.heroImage[g];var k=r;f.isDefined(g)&&(b.each(g,function(b,e){r<q.maxAlts&&(f.createThumbnail({type:"hero-image",
index:b,thumbnailIndex:r,variant:e.variant},e.thumb,L,"imageThumbnail"),r++)}),l(L,k,r,h));return r}function I(r,g){var h=q.heroImage;if(1>h.length||!f.isDefined(h[r])||!f.isDefined(g))return-1;var k=-1;b.each(h[r],function(b,e){e.variant===g&&(k=b)});return k}function M(){if(k.length&&q.repositionHeroImage){var b=u.getHeroDimParams(q,y.getCurrentItem());if(f.isDefined(b)){var g=f.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ";k.css({"background-position":g,"background-size":b.width+
"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""})}}}function w(b,g,h,m){if(k.length&&b&&g){if("function"===typeof h||m){var r=new Image;r.onload=m?function(){k.css("background-image",'url("'+b+'")')}:h;r.src=b}h=g[1];r=g[0];m||k.css({"background-image":'url("'+b+'")'});if(q.repositionHeroImage&&(g=u.getHeroDimParams(q,y.getCurrentItem(),g),f.isDefined(g))){h=g.width;r=g.height;var e=f.isDefined(g.xPos)?g.xPos+"px "+g.yPos+"px ":"center "+g.yPos+
"px "}k.css({"background-position":e,"background-size":h+"px "+r+"px ","max-width":h+"px ","min-height":r+"px ",filter:"","-ms-filter":""})}}function N(f,g,h,k){f=u.getHeroImageHash(q,f,g);if(-1===f)return-1;g=b.map(f.main,function(b,e){return e})[0];w(g,f.main[g],h,k)}function E(b,f,g){if("hero-image"!==b.type)return-1;var h=I(b.color,y.getCurrentItem().variant);h=-1!==h?h:0;if(-1===u.getHeroImageHash(q,b.color,h))return-1;var k=y.getCurrentItem();b.thumbnailIndex=k.thumbnailIndex;b.type=k.type;
b.variant=k.variant;b.index=h;D(b,f,g)}function D(b,f,h){var r=u.getHeroImageHash(q,b.color,b.index);var l=b&&g&&m.equals(b,g)?!0:!1;g||(g=b);if(!l&&b||f)N(b.color,b.index,f,h),g=b;k.removeClass("hide-background");m.trigger("dp:image-block:update",r)}var F,q,y,K,L,k,g={};return function(g,m,h,l){F=this;q=g;y=m;K=l;q.heroImage[q.landingAsinColor]=q.heroImage[q.defaultColor];F.render=function(f,e,g,h,r,m,n){L=h;k=b("#heroImage");f=H(e,f,m);E(y.getCurrentItem(),n,m);return f};F.update=function(b){var e=
b.data;"ingress"!==e.type&&k.addClass("hide-background");"swatchHover"===b.type?b.captured||(e.type=y.getCurrentItem().type,-1!==E(e)&&(b.captured=!0)):"hero-image"===e.type&&(D(e),"click"!==b.type&&q.usePeekHover||f.selectGivenThumbnail(b.$declarativeParent,L))};K.register("resize",M)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(m,b,f,M,l,H){function I(b){L?b.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function V(b){var g=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(f.isDefined(g)){g=g[1].split("_");for(var k=0;k<g.length;k++){var m=g[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(m)&&(b[m[1]]=parseInt(m[2],10))}}return b}function w(k,g){function r(){if(g.useClickZoom){var b=g.offsetInClickZoom;b=[Math.min(1,Math.max(0,c[0]-(z[0]+b))/(z[2]-2*b)),Math.min(1,Math.max(0,c[1]-(z[1]+b))/
(z[3]-2*b))]}else b=a&&a.updatePosition();if(b&&n&&n.detailSize){var d=[n.detailSize[0]-n.rect.width,n.detailSize[1]-n.rect.height];m.capabilities.rtl?n.detailImage.get(0).style.right=-(b[0]*d[0])+"px":n.detailImage.get(0).style.left=-(b[0]*d[0])+"px";n.detailImage.get(0).style.top=-(b[1]*d[1])+"px"}}function q(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function h(a){var d=p?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";c=p?[d.pageX,d.pageY]:[a.pageX,a.pageY];
if(m.capabilities.rtl){var f=b(u).width();c=p?[f-d.pageX,d.pageY]:[f-a.pageX,a.pageY]}}function w(b){p&&b.preventDefault();h(b);g.useClickZoom?b=[z[0],z[1],z[0]+z[2],z[1]+z[3]]:(b=a?a.offset:k.offsetParent().offset(),b=D.acEnabled?[b.left,b.top,O.width()+b.left,O.height()+b.top]:[d[0]+b.left,d[1]+b.top,d[0]+d[2]+b.left,d[1]+d[3]+b.top]);c[0]<b[0]||c[1]<b[1]||c[0]>=b[2]||c[1]>=b[3]||D.acEnabled&&!q(k)?(g.fadeMagnifier?Q||(Q=!0,X=setTimeout(function(){x(!0)},500)):g.useClickZoom||x(),W&&(W=!1,clearTimeout(K))):
(W||(W=!0,K=setTimeout(function(){M.postCountMetric("dppc_hoverZoomOpened");l.isEnabled&&H.logHoverZoomRequestServed(l)},1E3)),g.fadeMagnifier&&Q&&(Q=!1,clearTimeout(X)),r())}function x(c){c&&t.suppressMagnifier(!0);if(G&&(n&&n.hide(),a&&(a.destroy(),a=null),G=!1,p?(k.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),v(),c))k.one("click.magnifier touchstart.magnifier",
function(a){e(a,!0)})}function e(c,f){f&&t.suppressMagnifier(!1);if(!G&&!y&&(0===da&&(M.postCountMetric("dppc_hoverTime",new Date-(u.ue&&u.ue.t0||0)),da=1),R[F]||(M.postCountMetric("dppc_hoverMain"),R[F]=1),d=[k.position().left,k.position().top,k.width(),k.height()],F&&(h(c),n?n.refit().show():n=new C,g.useClickZoom||(a=a||new aa),z=n.getWindowSize(),r()),G=!0,p?(k.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",x),b(document).trigger("engaged.magnifier")):
(D.acEnabled?O.unbind("mousemove.magnifier"):k.unbind("mousemove.magnifier"),b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),f&&(c=b("#zoomWindow"),0<c.length)))c.one("click.magnifier touchend.magnifier",function(a){x(!0)})}function v(){g.useHoverZoom&&(p?k.bind("touchstart.magnifier touchmove.magnifier",e):D.acEnabled?q(k)&&O.bind("mousemove.magnifier",e):k.bind("mousemove.magnifier",e))}var t=this,O=k.offsetParent(),E={detailImageUrl:k.attr("data-old-hires"),location:"over",
locationElement:k,prelaod:"ready",zIndex:50,offsetInClickZoom:50};g=b.extend(E,g);g.adjustment=[10,0,-10,0];var n=null,a=null,c=null,d=null,z=null,J={"null":1,"":1,undefined:1},G=!1,y=!1,F=g.detailImageUrl,p=g.useHoverZoomIpad||0,da=0,R={},aa=function(){function a(a){var c=Math.round(Math.min(k.width(),n.rect.width/a));a=Math.round(Math.min(k.height(),n.rect.height/a));C.css({width:c,height:a});e=[c,a]}var f=this,e=[0,0],h=(n.detailSize&&n.detailSize[0]||5E8)/d[2],p=(n.detailSize&&n.detailSize[1]||
5E8)/d[3];h=p>h?p:h;b("#magnifierLens").remove();var C=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});g.generalImageUrls.zoomLensBackground&&C.css({backgroundImage:"url("+g.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?I(C):C.css("cursor","pointer");f.updatePosition=function(){var a=[d[2]-e[0],d[3]-e[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(c[0]-e[0]/2-d[0]-f.offset.left)/a[0])),g=0>=a[1]?.5:Math.max(0,Math.min(1,(c[1]-e[1]/2-d[1]-f.offset.top)/a[1])),h=d[0]+
Math.round(b*a[0]);a=d[1]+Math.round(g*a[1]);C.get(0).style.left=h+"px";C.get(0).style.top=a+"px";return[b,g]};f.destroy=function(){C.remove()};f.offset=k.offsetParent().offset();a(h);f.updatePosition();C.appendTo(k.parent());n.detailImage[0].complete||n.detailImage.load(function(){var c=n.detailImage.width()/d[2];a(c);f.updatePosition()})};aa.preload=function(){t.preload(g.generalImageUrls.lensBackgroundUrl)};var C=function(){function a(){var a={};if("over"===g.location){a=g.useClickZoom;var c={},
d=b("#leftCol"),p=b("#centerCol"),t=b("#rightCol"),z=b("#hover-zoom-end"),m=b("#actionPanelContainer"),ta=f.isjQueryObjDefined(d)?d.outerHeight():p.outerHeight();c.top=f.isjQueryObjDefined(d)?d.offset().top:p.offset().top;c.bottom=ta+c.top;c.right=f.isjQueryObjDefined(t)?t.offset().left:m.offset().left;c.left=a?0:d.offset().left+d.outerWidth();f.isjQueryObjDefined(z)&&z.offset().top>c.bottom&&(c.bottom=z.offset().top);a=c}else"right"===g.location&&(a=k.offset(),a={left:a.left+k.outerWidth(),top:a.top,
right:a.left+k.outerWidth()+400,bottom:a.top+400});g.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+b(g.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,b(u).scrollTop()+b(u).height());a.left+=h[0];a.top+=h[1];a.right+=h[2];a.bottom+=h[3];a.width=a.right-a.left;a.height=a.bottom-a.top;g.enhancedHoverOverlay&&f.isDefined(u.pageXOffset)&&(c=b(u).width(),a.width=c-a.left+u.pageXOffset-18,a.height-=14);C.css({left:a.left,top:a.top,width:a.width,height:a.height});e.rect=a;return e}function c(a){var c=
new Image;e.detailSize=[0,0];c.onload=function(){e.detailSize=[c.width,c.height];r()};c.src=a.attr("src");if(0<c.width&&0<c.height)e.detailSize=[c.width,c.height];else if(g.detailImageSize)e.detailSize=g.detailImageSize;else{a=V(c.src);var b=d[2]/d[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?e.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(e.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var e=this,h=g.adjustment;b("#zoomWindow").remove();
var p={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:g.zIndex};g.enhancedHoverOverlay&&(p.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",p.border="1px solid #949494",p.borderColor="rgb(148,148,148)");var C=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(p);g.fadeMagnifier&&C.fadeIn(200);g.useClickZoom&&(L?C.css("cursor",'url("'+g.zoomOutIcon+'"), auto'):(C.css("cursor","-webkit-zoom-out"),C.css("cursor","-moz-zoom-out"),C.css("cursor","zoom-out")));e.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+
a+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();C.append(a);b(document).trigger("updated.magnifier");e.detailImage=a;c(e.detailImage)};e.refit=function(){a();c(e.detailImage);return e};g.fadeMagnifier?(e.show=function(){C.fadeIn(200);return e},e.hide=function(){C.fadeOut(200);return e}):(e.show=function(){C.show();return e},e.hide=function(){C.hide();return e});e.destroy=function(){C.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,
e.rect.height]};e.updateImage(F);a();C.appendTo(document.body)},Q=!1,X,W=!1,K;t.preload=function(a){a=b.makeArray(a);for(var c=a.length,d=0;d<c;d++)a[d]instanceof Array?t.preload(a[d]):"string"===typeof a[d]&&a[d]&&!J[a[d]]&&(J[a[d]]=new Image,J[a[d]].src=a[d])};t.changeImage=function(a,c){G&&x();F=c;k.attr("src",a);t.preload(a);d=[k.position().left,k.position().top,k.width(),k.height()];c&&("immediately"===g.preload?t.preload(c,!0):b(u).ready(function(){t.preload(c)}),n?n.updateImage(c):k.attr("data-old-hires",
c))};t.destroy=function(){D.acEnabled?O.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):k.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");a&&a.destroy();a=null;n&&n.destroy();n=null};t.detailImage=function(){return n.detailImage};t.suppressMagnifier=function(a){y=a};t.isEngaged=function(){return G};t.engageMagnifier=e;t.disengageMagnifier=x;k[0].complete?v():k.one("load",v);t.preload(k.attr("src"));
u.performance&&performance.now&&u.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(g.preload){var N=g.detailImageUrl;E=function(){t.preload(N,!0);g.useClickZoom||aa.preload()};var B=g.preload;B.constructor!==Array&&(B=[B]);for(var Z=0;Z<B.length;Z++)if("immediately"===B[Z])E();else if(b(u)[B[Z]])b(u)[B[Z]](E);else b(u).bind(B[Z],E)}return t}function N(){if(D.useHoverZoom){var k={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};y&&(y.destroy(),y=T);var g=K.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(g)?D.useClickZoom?(g.one("click.loadmagnifier touchstart.loadmagnifier",function(b){y=
new w(g,k);y.engageMagnifier(b,!0)}),L?g.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(g.css("cursor","-webkit-zoom-in"),g.css("cursor","-moz-zoom-in"),g.css("cursor","zoom-in"))):y=new w(g,k):l.isEnabled&&H.logHoverZoomApplicability(b,l)}}var E,D,F,q,y,K,L=navigator.userAgent.match(/msie|trident/i);return function(b,f,m,L){E=this;D=b;F=f;l.refToModel=F;q=L;E.render=function(b,f,g,e,k,t){K=g;y&&(y.destroy(),y=T)};E.update=function(b){};q.register("loadMagnifier",N);q.register("resize",
N)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(m,b,f,M){function l(b,m,l){b=(b=l?l:f.getColorFromState(m.getState().hovered_variations,B))&&""!==b?b:B.defaultColor;N.dispatch("updateView",{type:"swatchHover",data:{color:b}});M.postCountMetric("swatchHover")}function H(b,m,l,q){b=(b=q?q:f.getColorFromState(m.getState().selected_variations,B))&&""!==b?b:B.defaultColor;b===w.getCurrentItem().color?"function"===typeof l&&l():(N.dispatch("updateSelection",
{type:"swatchClick",data:{color:b},onload:function(){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",b);l()}}),M.postCountMetric("swatchClick"))}var I,B,w,N;return function(b,f,u,q){I=this;B=b;w=f;N=q;m.on("image-block-twister-swatch-hover",l);m.on("image-block-twister-swatch-click",H);I.render=function(b,f,m,k,g){};I.update=function(b){}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(m,b,f,M,l,H,I){function V(a,c,d,g){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var h=v.getCurrentItem();if(!g||"chromeless-video"!==h.type||!e.autoplayVideo)if(g=0,"image"===h.type&&(g=Math.max(D(h.color,h.variant),0)),!(h.thumbnailIndex>=e.maxAlts&&0!=g)){var p=c+g;p>=d&&(g=0,p=c);c=f.getImageHash(h.color,g,e);-1!==c&&(t.dispatch("updateModel",{data:{index:g,thumbnailIndex:p,variant:c.variant,type:"image",
shoppableScene:c.shoppableScene}}),c=a.find(".item").get(p),f.selectGivenThumbnail(b(c),a))}}}function w(a,c,d){if((2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment)&&d)return a;var g=e.colorImages&&e.colorImages[c];c=a;2!==e.unrolledImageBlockTreatment&&3!==e.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(a){(!b(this)[0].classList.contains("thumbTypeimage")||a>=g.length||a>=e.maxAlts)&&b(this).remove()});f.isDefined(g)&&(b.each(g,function(c,d){if(a<e.maxAlts)if(2===
e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment){a++;var h=b(".thumbItemUnrolled");h[c]?h[c].querySelector("img").src=d.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else c={type:"image",index:c,thumbnailIndex:a,variant:d.variant,shoppableScene:d.shoppableScene},d=f.createThumbnail(c,d.thumb,n,"imageThumbnail"),"T1"!==e.desktopCollapsibleThumbnailsExperience&&"T2"!==e.desktopCollapsibleThumbnailsExperience||f.updateImageThumbnailOverlay(d,c,g),a++}),H.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(b,
H,v),V(n,c,a,d));return a}function N(a,c){e.useIV&&f.isDefined(c.hiRes)&&a.css("cursor","pointer")}function E(a,c){if("image"===a.type&&T){var d=b("#image-canvas-caption #canvasCaption"),g=e.staticStrings,h=e.colorImages,p=a.color,k=a.index;if(f.isShoppableScenesEnabled()&&a.shoppableScene)var t=g.clickSceneTagsToShopProducts;else c&&e.useIV?t=g.clickToExpand:h[p]&&h[p][k].hiRes&&e.useHoverZoom?(t=e.useHoverZoomIpad?g.touchToZoom:e.useClickZoom?g.clickToZoom:g.rollOverToZoom,e.hoverZoomIndicator&&
(t="\x3cimg src\x3d'"+e.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+t)):e.useIV&&(t=g.clickToExpand);d.html(t)}}function D(a,c){return f.getIndexForVariant(a,c,e)}function F(a,c,b){var f=c.thumbnailIndex,g=e.colorToAsin[c.color]&&e.colorToAsin[c.color].asin;c="altImageHover"===b&&d&&d.altImageIdx===f&&d.asin===g&&"swatchClick"===d.event?!0:"swatchHover"===b?d&&d.asin===g&&d.event===b:d&&d.altImageIdx===f&&d.asin===g&&d.event===b;if(!c){var h="#",p=a.find(".imgTagWrapper img").get(0);p&&(h=p.src);
a=new Image;a.onload=function(){if(p){p.src=h;var a=p.width,c=p.height,d=p.naturalWidth,e=p.naturalHeight;try{var k=(Math.abs(a/d*e-c)/c).toFixed(2);.01<k&&(u.ue&&((("landing"!==b||G||ca)&&"swatchClick"!==b||u.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===b||"swatchClick"===b)?u.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==b||ca?"altImageHover"!==b||G||(u.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),G=!0):(u.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",
1),ca=!0)),u.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},u.ueLogError("swatchHover"===b?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+g+" Event:"+b+" Diff:"+k.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+g+" at altImageIdx "+f+" Event:"+b+" Diff:"+k.toString()+"]"},a)))}catch(ja){u.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},u.ueLogError(ja,a))}}};"#"!==h&&(a.src=
h);d.altImageIdx=f;d.asin=g;d.event=b}}function q(a,d){var g="a-dynamic-image";if(!e.acEnabled){var h;b.each(a.main,function(a,c){f.isDefined(h)||(h=parseFloat(c[1]/c[0])<=parseFloat(e.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});g+=h}var p=f.getMaxDimensionsOfMainImage(a.main,c,e),k=p[0],t=p[1];p=b("\x3cdiv\x3e\x3c/div\x3e");k={"max-height":k,"max-width":t};p.addClass(g).css(k).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:d}).data("a-dynamic-image",a.main);
return p}function y(c,b,d){var f="desktop-dp-atf-ib-shoppablescenes-tags-"+c;"function"==typeof uet&&uet("bb",f,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+c);d=a.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");d.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":f,"data-csa-c-slot-id":f,"data-csa-c-type":"widget","data-csa-c-asin":e.mediaAsin,"data-csa-c-physical-id":b.shoppableScene.physicalId,
"data-product-line":b.shoppableScene.productLine});d.children("span").css("display","inline-block");t.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),$viewProductsButton:d.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(a,d){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",f,{wb:1});return d}function K(c,b,d){d=q(c,d);var e=f.isShoppableScenesEnabled()&&c.shoppableScene?y(b,c,d):
a.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");var g="image item itemNo"+b+" maintain-height";c.feedbackMetadata&&(g+=" celwidget "+c.feedbackMetadata);e.addClass(g).attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});e.find(".placeHolder").replaceWith(d);a.find(".list").append(e);m.loadImageManually(d);m.trigger("dp:image-block:imageBlockImageLoad",b);return e}function L(a){var b=
c.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");e.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(e.imgTagWrapperClasses)}function k(a){if(a.isUserGenerated){var c=v.getPreviousItem(),b=a.variant;f.isDefined(b)&&c.thumbnailIndex!==a.thumbnailIndex&&(H.isEnabled&&I.logAltImgRequestServed(H),l.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===b.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+b),l.postCountMetric("IGImageSelectedEvent:"+
a.interaction)))}}function g(c,d,g,h){if(2!==e.unrolledImageBlockTreatment&&3!==e.unrolledImageBlockTreatment||h||"unavailable"===c.type){if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){(z=f.isDefined(d))&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");g=f.getImageHash(c.color,c.index,e);if(-1===g)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(c,v,e)||(t.dispatch("updateModel",d),f.showUnavailable(c.color)),-1;h=a.find(".item.itemNo"+
c.thumbnailIndex);f.isjQueryObjDefined(h)||(h=K(g,c.thumbnailIndex,d),z?(ca=G=!1,F(h,c,"swatchClick")):F(h,c,"altImageHover"));L(h);t.dispatch("loadMagnifier");E(c);N(h,g);k(c);m.trigger("dp:image-block:update",g)}}else if(c=e.colorImages&&e.colorImages[g],b(".unrolledImg").each(function(a){b(this).remove()}),f.isDefined(c)){b.each(c,function(a,c){if(a<e.maxAlts){var d=b(".unrolledImg");d[a]?b(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+
c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=d.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}});m.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var z=f.isDefined(d);z&&(l.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
d())}}function r(c){var b=Math.max(D(c.color,v.getCurrentItem().variant),0);b=f.getImageHash(c.color,b,e);if(-1===b)return f.lazyLoadingRequired(c,v,e)||f.showUnavailable(c.color),-1;var d=a.find(".swatchHoverExp"),g=q(b);d.find(".imgTagWrapper").html(g);m.loadImageManually(g);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");L(d);F(d,c,"swatchHover");m.trigger("dp:image-block:update",b)}function P(c,d){f.lazyLoadingRequired(c,v,e)||(b("#imageBlock").css("opacity","1"),a.css("opacity","1"),
f.spinner(a,!1),a.find("li").removeClass("selected"),T&&b("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),d&&a.find(".list .item").remove())}function h(){var d=a.find(".item .imgTagWrapper"),g=f.getContainerHeight(c,e.holderRatio,e.holderMaxHeight);0<g&&(c.height(g),d.height(g));a.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&m.loadDynamicImage(this);var d=a.data("a-dynamic-image");d=f.getMaxDimensionsOfMainImage(d,c,e);a.css({"max-height":d[0]+
"px","max-width":d[1]+"px"})})}function A(a){E(v.getCurrentItem(),"mouseenter"===a.type)}var x,e,v,t,O,S,n,a,c,d={},z,J=null,G=!1,ca=!1,T=(M=m.state("imageBlockStateData"))?!M.shouldRemoveCaption:!0;m.on("triggerImageAjax",function(a){var c=v.getCurrentItem().color;e.colorImages[c]||(e.colorImages[c]=a);a={type:"updatedData",data:v.getCurrentItem()};t.dispatch("updateView",a);(c=e.colorToAsin[c])&&c.asin&&B.register(f.rankedImagesReadyEvent(c.asin))});return function(d,k,m,q){x=this;e=d;v=k;t=q;e.colorImages[e.landingAsinColor]=
e.colorImages[e.defaultColor];x.render=function(d,h,k,m,l,r,p,q){a=2!==e.unrolledImageBlockTreatment&&3!==e.unrolledImageBlockTreatment?k:b(".unrolledScrollBox");n=m;c=l;z=w(h,d,r);r?0===h&&F(a.find(".item.itemNo0"),v.getCurrentItem(),"landing"):(h=v.getCurrentItem(),f.lazyLoadingRequired(h,v,e)&&t.dispatch("updateModel",{data:{type:"lazy-loaded"}}));P(v.getCurrentItem(),!r);2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment?"swatchClick"===q&&e&&e.colorImages?(J=e.colorImages[d],
g(v.getCurrentItem(),p,d,r)):"updatedData"===q&&e&&e.colorImages&&e.colorImages[d]!==J&&(J=e.colorImages[d],g(v.getCurrentItem(),p,d,r)):g(v.getCurrentItem(),p,d,r);return z};f.isImageBlockGridViewHoverDelayEnabled()?x.update=function(a){var c=a.data;v.setCurrentEvent(a);"ingress"!==c.type&&"swatchHover"!==a.type&&(v.setToPreviousItem(),"mouseenter"===a.type?(S&&clearTimeout(S),S=setTimeout(function(){v.setToCurrentItem(c);P(a.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===a.type?S&&clearTimeout(S):
"click"===a.type&&(v.setToCurrentItem(c),P(a.data,!1)));"swatchHover"===a.type?("ingress"!==c.type&&P(a.data,!1),c.color===v.getCurrentItem().color?g(v.getCurrentItem(),null,c.color,!0):a.captured||-1===r(c)||(a.captured=!0)):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type?(l.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+z),O&&clearTimeout(O),O=setTimeout(function(){g(c,null,c.color,!0);e.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,
n)},f.getHoveringDelayTimer())):"mouseleave"===a.type?O&&clearTimeout(O):"click"===a.type&&(g(c,null,c.color,!0),f.selectGivenThumbnail(a.$declarativeParent,n),l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+z)))}:x.update=function(a){var c=a.data;v.setCurrentEvent(a);"ingress"!==c.type&&P(a.data,!1);"swatchHover"===a.type?c.color===v.getCurrentItem().color?g(v.getCurrentItem(),null,c.color,!0):a.captured||-1===r(c)||(a.captured=
!0):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+z),g(c,null,c.color,!0),e.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,n),"click"===a.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+z))))};e.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");t.register("imageHover",A);
t.register("resize",h)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(m,b,f,u){function l(f,k){f=b("\x3cimg src\x3d'"+(k?q.staticImages.shoppableSceneDotHighlighted:q.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:k?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(k?"active-tag":"inactive-tag");return f}function H(f){var k=b("\x3cspan\x3e");m.each(f.tags,function(f){var g=b("\x3cdiv\x3e").css({position:"absolute",
left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});g.append(l(f,!1));g.append(l(f,!0));g.bind("mouseenter",function(){I(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});m.declarative.create(g,"scenes-show-details-tags-ib",{tagId:f.link});k.append(g)});return k.children()}function I(b){b.addClass("mirai-scene-dot-pulsate");m.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function M(b,f){b.css({display:"none"});f.css({display:"inline-block"})}function w(b,
f,g){b.eq(g).css({display:"inline-block"});f.eq(g).css({display:"none"})}function N(b){B.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){m.trigger("mirai:scene-details-change",{physicalId:b})})}function E(){var f=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),k=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",q.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),g=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
g.html(q.staticStrings.shoppableSceneViewProductsButton);return f.append(k).append(g)[0].outerHTML}function D(b){function f(){b.$tagPlaceholder.replaceWith(l);var f=l.find(".mirai-scene-tag.active-tag"),g=l.find(".mirai-scene-tag.inactive-tag");w(f,g,0);I(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));K=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});x=!0;u.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(b.shoppableScene){var g=b.$viewProductsButton.find(".a-button-text");if(0===g.children().length){g.append(E());m.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:b.shoppableScene.tags[0].link});var l=H(b.shoppableScene),y=l.find(".mirai-scene-tag.active-tag"),h=l.find(".mirai-scene-tag.inactive-tag"),A=b.shoppableScene.physicalId,x=!1;m.on("mirai:index:change",function(b){b.scenePhysicalId===A&&(b=b.selectedIndices[0],M(y,h),w(y,h,b),I(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(b)),
K=!0)});m.on("mirai:scene-details-change",function(b){b.physicalId!==A||K||(M(y,h),w(y,h,0),I(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),K=!0)});m.on("mirai:no-products-active",function(b){b.scenePhysicalId===A&&M(y,h)});m.on("mirai:set-first-product-active",function(b){b.scenePhysicalId===A&&(M(y,h),w(y,h,0))});m.on("a:image:load:shoppable-scene:"+b.index,function(){x||(f(),u.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});m.on("shoppable-scene-image-loaded",
function(e){e.index!=b.index||x||(f(),u.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});B.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){m.trigger("mirai:scene-side-sheet-init",{icons:q.staticImages,strings:q.staticStrings});m.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var F,q,y,K=!1;return function(b,k,g,m){F=this;q=b;y=m;f.isShoppableScenesEnabled()?(y.register("initialize-shoppable-scene",
D),F.render=function(b,f,g,k,e,m,t){},F.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?N(b.data.shoppableScene.physicalId):K=!1)}):(b=function(){},F.render=b,F.update=b)}});B.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};B.when("A",
"jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(m,b,f,B,l,H,I,V){function w(a){return null!==a&&"undefined"!==typeof a}function M(a){var c=0;b.each(a,function(a,b){a=parseInt(b[1],10);a>c&&(c=a)});return c}function E(a){var c=0;b.each(a,function(a,b){a=parseInt(b[0],10);a>c&&(c=a)});return c}function D(a,c,b){c=c.width();if(b.naturalMainImageSize)return c;a=M(a);0<a&&(c=Math.min(c,
a));return c}function F(a,c,b){c=c.height();if(b.naturalMainImageSize)return c;a=E(a);0<a&&(c=Math.min(c,a));return c}function q(a){var c;b.each(a,function(a,b){w(c)||(c=b[1]/b[0])});return c||1}function y(a){if(a){if(0<a.indexOf(".m3u8"))return"application/x-mpegURL";if(0<a.indexOf(".mp4"))return"video/mp4"}return""}function K(a,c){c=c.find("img");w(c[a])&&b(c[a]).click()}function L(a,c){e[a]=c?c:e[a];return e[a]}function k(a,c,d){d=d||x;d=d.colorImages;if(1>d.length||!w(d[a])||!w(c))return-1;var f=
-1;b.each(d[a],function(a,b){b.variant===c&&(f=a)});return f}function g(a,c,d){d=d||x;d=d.colorImages;return!(w(d)&&w(d[a])&&w(d[a][c])&&w(d[a][c].main))||1>b.map(d[a][c].main,function(a,c){return c}).length?-1:d[a][c]}function r(a,c,b,f){f.parent().css("z-index",2);0!==b&&0!==c&&(c/=b,f.css("width",""),f.css("height",""),a>c?f.css("width",c/a*100+"%"):f.css("height",a/c*100+"%"))}function P(a,c){var d;if(d=a.useIV)d=a.colorImages&&a.colorImages[c]&&0<a.colorImages[c].length?!0:!1;a=d;H.isEnabled&&
(H.IVApplicaple=a,I.logImmersiveViewApplicability(b,H));return a}function h(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||0<b(".gridImageBlockViewLayoutIn1x7").length}var A,x=b.extend(!0,{},B,l),e={},v=0,t=0,O=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,S={},n={};return{isDefined:w,isDefinedAndEmpty:function(a){return w(a)&&"object"===("undefined"===typeof a?"undefined":U(a))&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return w(a)?"object"===
("undefined"===typeof a?"undefined":U(a))&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return w(a)?"object"===("undefined"===typeof a?"undefined":U(a))&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:q,getMaxHeightOfMainImage:F,getMaxWidthOfMainImage:D,getMaxDimensionsOfMainImage:function(a,c,b){if(b.acEnabled)return[c.height(),c.width()];var d=F(a,c,b);c=D(a,c,b);a=q(a);b=c/a;c=Math.min(c,d*a);d=Math.min(d,b);return[d,c]},getContainerHeight:function(a,
c,b){var d=a.get(0);a=0;if(w(d)){a=Math.min(d.offsetWidth/c,b);var f;c=x.mainImageHeightPartitions;b=x.mainImageMaxSizes;if(w(b)&&w(c)){var e=0,g=u.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(d=0;d<c.length;d++)g>c[d]&&(e=d+1);b.length>=e&&(f=b[e])}w(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(a,c){if(a){c=c||x;var d="";b.each(c.visualDimensions,function(c,b){a[b]&&(d+=" "+a[b])});return d&&d.substring(1)}},createThumbnail:function(a,c,b,f){var d=
b.find(".template").clone().removeClass("template").addClass("item"),e=document.createElement("img");e.src=c;d.find(".placeHolder").replaceWith(e);(c=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===c&&d.addClass("heroImageThumbnail");w(f)&&d.addClass(f);h()&&d&&(f=document.createElement("div"),f.className="imageBlockThumbnailImageGrayOverlay",e.parentNode.insertBefore(f,e));m.declarative.create(d,"thumb-action",a);d.attr&&(d.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(d.attr("data-csa-c-type",
"uxElement"),d.attr("data-csa-c-element-type","navigational"),d.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(d.attr("data-csa-c-type","uxElement"),d.attr("data-csa-c-element-type","navigational"),d.attr("data-csa-c-action","image-block-alt-image-hover")),d.attr("data-csa-c-posy",a.thumbnailIndex+1));b.append(d);return d},updateImageThumbnailOverlay:function(a,c,b){a.find(".textMoreImages").append(b.length-c.thumbnailIndex+"+")},selectGivenThumbnail:function(a,c){a=a.find(".a-button");
c.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");a.addClass("a-button-selected").addClass("a-button-focus")},loadMediaIntoAiry:function(a,c,b,f){a&&a.getMediaSourceInfo()!==c.url&&(f?a.loadMedia?(A={mediaSourceInfo:[c.url],contentId:c.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(A)):a.play({videoUrl:c.url,imageUrl:c.slateUrl,mimeType:"video/mp4",contentId:c.mediaObjectId,rankingStrategy:c.rankingStrategy,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:c.url,
contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl}}):a.setInitialData({videoUrl:c.url,mimeType:y(c.url),contentId:c.mediaObjectId,rankingStrategy:c.rankingStrategy,imageUrl:c.slateUrl,aciContentId:c.aciContentId}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:function(a,c,b){c.fadeTo(500,0,function(){K(a,b);c.fadeTo(500,1)})},toggleVideoCaption:function(a){a&&a.toggle()},selectThumbnail:K,spinner:function(a,c){var d=b("#imageBlock .a-spinner").parent();0===d.length&&(d=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",
width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:L,getIndexForVariant:k,getImageHash:g,lazyLoadingRequired:function(a,c,b){c=Math.max(k(a.color,c.getCurrentItem().variant,b),0);c=-1!==g(a.color,c,b);a=b.colorToAsin[a.color]&&b.colorToAsin[a.color].asin;a=!a||"success"!==L(a);return!b.lazyLoadExperienceDisabled&&
!c&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:r,repositionVideoBanner:function(a,c,b,f){setTimeout(function(){var b=a.width()/a.height();r(b,16,9,c)},f||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,d){if(d.useChildVideos){if(!w(d.colorToVideo))return-1;a=d.colorToVideo[a]}else a=d.videos;return w(a)&&w(a[b])&&w(a[b].url)?a[b]:-1},isImmersiveViewEnabled:P,
playVideoInImmersiveView:function(a,b){return P(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return w(A)?A.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,d){return{requester:"DetailPageTablet",marketplaceID:d.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:d.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:d.url,imageURL:d.slateUrl}}},
addTag:function(a){u.ue&&u.ue.tag&&u.ue.tag(a)},isShoppableScenesEnabled:function(){return V.isEnabled&&0<b(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:h,isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return v},updateThumbnailHoverDelay:function(a){if(w(a)){v=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);
if(-1!==b){var d=t;a=a.closest("ul").attr("class");a===T?d=!1:(a=O.exec(a),null===a||3!==a.length?d=!1:(a=a[2],d=Math.floor(d/a)>Math.floor(b/a)));d&&(v=100);t=b}}},setDimensionIngressData:function(a,b,d){S[a]=b;n[a]=d},isDimensionIngressEnabled:function(a){return!!S[a]},getDimensionVariantList:function(a){return n[a]},logError:function(a,b,d,f){u.ueLogError&&u.ueLogError(f,{logLevel:a,attribution:b,message:d})},customerId:""}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(m,b,f,M,l,H){function I(e,g,h,k){!a.autoplayVideo||ma||a.useChromelessVideoPlayer?!f.isjQueryObjDefined(e.find(".a-button-selected"))&&(h=c.getCurrentItem(),!k||a.prioritizeVideos||"chromeless-video"===h.type&&a.autoplayVideo)&&(k=f.getVideoHash(h.color,0,a),-1===k||h.thumbnailIndex>=a.maxAlts-1||(g+=0,d.dispatch("updateModel",{data:{index:0,thumbnailIndex:g,variant:k.variant,type:a.useChromelessVideoPlayer?"chromeless-video":
"chromeful-video"}}),g=e.find(".item").get(g),f.selectGivenThumbnail(b(g),e))):(f.selectGivenThumbnail(e.find("img:last"),e),f.fadeToThumbnail(e.find("img").length-1,ca,e))}function V(b){var e=c.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[e]){var g=function(){if(b){a.colorToVideo[e]=b;var f={type:"updatedData",data:c.getCurrentItem()};d.dispatch("updateView",f)}};a.lazyLoadExperienceDisabled?g():B.when(f.rankedImagesReadyEvent(a.colorToAsin[e].asin)).execute(function(){g()})}}function w(b){b&&
(a.notShowVideoCount=b,b={type:"updatedData",data:c.getCurrentItem()},d.dispatch("updateView",b))}function N(b){if(!a.useChildVideos)return f.lazyLoadingRequired(c.getCurrentItem(),c,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var d=a.colorToAsin[b];if(d&&d.asin){var e={};e.params={asin:d.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(e.success=function(a){V(a)},M.load("/gp/product/features/apparel-main-image/videos.html",
e));return a.colorToVideo&&a.colorToVideo[b]}}function E(b){p&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(p.hide(),J.parent().css("z-index",-1),G&&G.hide())}function D(b,c,d){c=ca.width()/ca.height();var e=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);f.updateAspectRatio(c,e,g,J);if(p&&"unrolled-video-add"!==d)p.show(),f.loadMediaIntoAiry(p,b,da,a.tabletWeb);else if(a.tabletWeb)p=C;else{if("unrolled-video-add"===d){p=C;return}if(null===C||C===T)Y=setInterval(function(){p=
C;p!==T&&null!==p&&(p.show(),f.loadMediaIntoAiry(p,b,da,a.tabletWeb),F(),k(p),clearInterval(Y),Y=null)},500);else if(p=C,p!==T&&null!==p){p.show();f.loadMediaIntoAiry(p,b,da,a.tabletWeb);F();k(p);return}}F();k(p)}function F(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(a)){if(1<f.getVideosCount(c.getCurrentItem().color,a)&&G){if(f.isDefined(U)){G.show();return}U=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.watchMoreVideos);
G.find("#videoCaption").append(U);m.declarative.create(U,"videoIngressClick",R)}f.playVideoInImmersiveView(a,c.getCurrentItem().color)&&(m.declarative.create(J,"videoIngressClick",R),J.attr&&J.attr("data-ux-click",""),J.children().css("z-index","-1"),J.css("display","inline-block"))}else G&&(G.find("#videoCaption").text(a.staticStrings.playVideo),G.show())}function q(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var d=f.getVideoHash(b.color,b.index,a);
if(-1===d)return-1;"chromeful-video"===b.type&&D(d,b.thumbnailIndex+1,c)}}function y(d,e,g){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&g)return d;var h=N(e);e=d;var k=b(".unrolledImg"),t=f.isDefined(h)&&0<h.length&&a.alwaysIncludeVideo?1:0;f.isDefined(h)&&0<h.length&&!a.alwaysIncludeVideo&&d===a.maxAlts&&l.postCountMetric("IBVideoDrop");k.length>a.maxAlts&&k.each(function(c){c>=a.maxAlts&&b(this).remove()});t&&d===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?
(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):z.find(".item:last").remove(),d--);f.isDefined(h)&&(b.each(h,function(e,g){if(d<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+k+" thumbIndex"+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
d+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+d+'" class\x3d"videoIndex'+e+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));
a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||K(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var t={type:k,index:e,thumbnailIndex:d,variant:g.variant};R={type:"video-ingress",index:e,thumbnailIndex:d,variant:g.variant};f.useTabbedImmersiveView(a)&&("chromeful-video"===k&&(ka+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(ka+=
" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ka+=" videoImageBlockGridView");f.createThumbnail(t,g.thumb,z,ka);2===a.dp60VideoPosition&&K(z,a.dp60VideoPosition);f.useTabbedImmersiveView(a)&&(L(z.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),e=1<h.length?"multiple-videos":"one-video",(t=!0===a.notShowVideoCount?a.staticStrings.multipleVideos:1<h.length?h.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo)&&z.find(".videoBlockIngress").append(z.find("#videoCount_template").clone().text(t).attr("id",
"videoCount")).addClass(e));g=l.buildNexusMetric("ib.thumbnailRender",d+1,g.mediaObjectId,g.rankingStrategy,f.customerId,g.groupType,X,Q,W,ba);e=S(a,c.getCurrentItem().color);e!==g.pageAsin&&(g.pageAsin=e,X=u.location.href,e=X.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+e),g.pageUrl=e);l.emitNexusMetric(g);ja||(ja=!0,l.postCountMetric("chromeless-video"===k?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}d++}if(f.useTabbedImmersiveView(a))return!1}),I(z,e,d,g),x(v),a.imageBlockRenderingStartTime&&
l.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",m.now()-a.imageBlockRenderingStartTime));return d}function K(c,d){if(0!==d)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var f=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=c.children(".thumbTypeimage");c=c.children(".thumbType"+f);e&&c&&e[d-1]&&b(e[d-1]).before(c[0]);c=b(".unrolledScrollBox .list-unrolled");e=c.children(".unrolledImg.imgMedia");c=c.children(".unrolledImg.videoMedia");e&&
c&&e[d-1]&&b(e[d-1]).before(c[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(c=d);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else e=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),e&&c&&e[d-1]&&b(e[d-1]).before(c[0])}function L(a,b){var c=a.attr("src");c&&b&&(a.attr("src",b),b=
new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function k(b){a.autoplayVideo&&b&&!ma&&(G&&f.toggleVideoCaption(G),b.setVolume(0),b.show(),b.play(),ma=!0)}function g(c){p&&p.pause();c.data=R;c.clickTimeStamp=c.$event.timeStamp;var e="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";d.dispatch("imageClick",c);l.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=l.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,
f.customerId,a.videos[0].groupType,X,Q,W,ba);l.emitNexusMetric(c);l.postCountMetric(e);b("#main-video-container .vjs-control-bar").css("display","none");b("#main-video-container .vjs-poster").css("display","inline-block")}function r(a){null!==p&&p!==T&&(p.frame&&p.frame.remove(),p=null,C.frame&&C.frame.remove(),C=null);C=a.player;b("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");C.hide=function(){C.pause();m.$("#main-video-container").find(".vse-player-container").hide()};
C.show=function(){m.$("#main-video-container").find(".vse-player-container").show()};C.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function P(d,e,h,k,t,l){E(l);J=null!==l?b("#unrolledImgNo"+l.thumbnailIndex):k.find("#main-video-container");sa&&(G=null!==l?"":J.parent().find("#video-canvas-caption"));ca=null!==l?b(".unrolledScrollBox"):b("#main-image-container");null===l&&f.isImageBlockGridViewDisplayEnabled()&&(J.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));
X=u.location.href;d=c.getCurrentItem().color;!0===t?Q=a.mediaAsin:(Q=a.colorToAsin[d]&&a.colorToAsin[d].asin,Q=f.isDefined(Q)?Q:a.mediaAsin);a.useChromelessVideoPlayer||J.addClass("chromeful-container");null!==l?q(l,"unrolled-video-add"):q(c.getCurrentItem(),"");f.useTabbedImmersiveView(a)&&m.declarative("videoIngressClick",["click"],g);if(-1!==n&&null!==l){d=c.getCurrentItem().color;var n=f.getVideoHash(d,l.index,a);t={requester:"MediaBlockSoftlines",marketplaceID:n.marketPlaceID,clientPrefix:"mbSoftlines"+
l.thumbnailIndex,locale:n.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:n.url,imageURL:n.slateUrl},product:{contentID:S(a,d),contentIDType:"ASIN"}};H.get(m,"#unrolledImgNo"+l.thumbnailIndex,t,function(){m.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function h(a,c){function d(){var a=Math.floor((z.width()-1)/
k);return f?a-1:a}function e(a){a=d();c.slice(a).hide();c.slice(0,a).show();c.find(".textMoreImages").remove();c.removeClass("overlayRestOfImages");c.find("img").each(function(){b(this).parent().attr("aria-hidden","true")});if(a<c.length){var e=a-1;a=c.eq(e);c.eq(e).find("img").parent().attr("aria-hidden","false");e=c.length-e;e=b("\x3cspan\x3e").addClass("textMoreImages").text(e+"+");a.find("img").after(e);a.addClass("overlayRestOfImages")}}var f=0!=z.find(".item.videoThumbnail").length,g=c.eq(0).width(),
h=c.eq(1).position().left-c.eq(0).position().left-g,k=g+h;e();a.register("resize",e)}function A(a){var b=z.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==T&&c.decode().then(function(){h(a,b)})}}function x(a){try{if(!a)return!1;na=a;ea=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==la&&la.disconnect();0<ea.length&&(la=new IntersectionObserver(e,a));ea.forEach(function(a){la.observe(a)})}catch(ua){l.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}
function e(a){na(a,ra,qa,ea,pa)}function v(a,d,e,f,g){try{b.each(a,function(a,h){var k=b(f).index(h.target);h.isIntersecting?fa[k]||(fa[k]=setTimeout(function(){d=d.slice();d.push(k);e=d.sort(function(a,b){return a-b});var a=t(e,g);if(0!==a.length&&0!==e.length){var b=c.getCurrentItem().color;b=N(b);O(b,a);delete fa[k]}},1E3)):(clearTimeout(fa[k]),delete fa[k],d=d.filter(function(a){return a!==k}),e=d.sort(function(a,b){return a-b}))})}catch(wa){l.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}
function t(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function O(a,c){try{if(!a||!c||0===a.length||0===c.length)return!1;b.each(c,function(b,c){if(c=1===ea.length?a[0]:a[c])b=l.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,f.customerId,c.groupType,u.location.href,Q,W,ba),l.emitNexusMetric(b)})}catch(va){l.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}function S(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;
if(a.mediaAsin)return a.mediaAsin}return""}var n,a,c,d,z,J,G,ca,U,p,da,R,aa,C,Q,X,W,ba,ha,ia,Z,ja=!1,ma=!1,ka="videoThumbnail",Y=null,la=null,qa,pa=[],ea,ra=[],na=null,oa=m.state("imageBlockStateData"),sa=oa?!oa.shouldRemoveCaption:!0,fa={};return function(e,g,h,k){n=this;a=e;c=g;d=k;da=a.airyConfig;W=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;f.customerId=f.customerId||a.customerId||"";a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;
a.tabletWeb?(ha="tablet",ba="applicationType.ImageBlock.vse_ib_tablet_web"):m.capabilities.tablet?(ha="tablet",m.capabilities.isAmazonApp&&(ba="applicationType.ImageBlock.vse_ib_tablet_app")):(ha="desktop",ba="desktop_web.ImageBlock.vse_ib_iv");n.render=function(e,g,h,k,t,l){null!==Y&&(clearInterval(Y),Y=null,J&&J.parent&&J.parent().css("z-index",-1),G&&G.hide&&G.hide());var n=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){z=b("ul.regularAltImageViewLayout");aa=y(g,e,
l);n=[];g=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var p=0;p<g.length;p++){var q=g[p].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",r=Number(g[p].classList[2].slice(10)),u=b(".thumbItemUnrolled").index(g[p]);n.push({color:e,thumbnailIndex:u,type:q,varient:"MAIN",index:r})}for(p=0;p<n.length;p++)P(e,h,k,t,l,n[p])}else z=k,aa=y(g,e,l),P(e,h,k,
t,l,null),e=c.getCurrentItem().color,h=f.getVideoHash(e,0,a),-1!==h&&(e=a.tabletWeb?f.getNilgiriServiceAjaxRequest(a,e,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:h.url,imageURL:h.slateUrl},product:{contentID:S(a,e),contentIDType:"ASIN"}},H.get(m,"#main-video-container",e,function(){m.$("#main-video-container").find(".vse-player-container").hide()},
function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&A(d);return aa};n.setupIntersectionObserverToWatchVideoThumbnail=x;n.emitMultipleImpressionMetric=O;f.isImageBlockGridViewHoverDelayEnabled()?n.update=function(b){null!==Y&&(clearInterval(Y),Y=null,J&&J.parent&&J.parent().css("z-index",-1),G&&G.hide&&G.hide());var e=b.data;"ingress"===e.type||"swatchHover"===b.type||f.lazyLoadingRequired(e,c,a)||(c.setToPreviousItem(),"mouseenter"===b.type?(Z&&
clearTimeout(Z),Z=setTimeout(function(){c.setToCurrentItem(e);E(null)},f.getHoveringDelayTimer())):"mouseleave"===b.type?Z&&clearTimeout(Z):"click"===b.type&&(c.setToCurrentItem(e),E(null)));if("swatchHover"===b.type)"ingress"===e.type||f.lazyLoadingRequired(e,c,a)||E(null),e.color===c.getCurrentItem().color?q(c.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(e,c,a)&&!f.lazyLoadOnHoverEnabled(a)&&q(c.getCurrentItem(),"");else if("chromeful-video"===e.type){var g=f.getVideoHash(e.color,e.index,
a);"mouseenter"===b.type?(l.postCountMetric("dpcc_videoThumbHovered_"+(e.thumbnailIndex+1)+"_"+aa),g=l.buildNexusMetric("ib.thumbnailHover",e.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,f.customerId,g.groupType,X,Q,W,ba),l.emitNexusMetric(g),ia&&clearTimeout(ia),ia=setTimeout(function(){q(e,"");!a.usePeekHover&&m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(b.$declarativeParent,z)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ia&&clearTimeout(ia):
"click"===b.type&&(q(e,""),m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(b.$declarativeParent,z),g=l.buildNexusMetric("ib.thumbnailClick",e.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,f.customerId,g.groupType,X,Q,W,ba),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===e.type||"tablet"==ha)&&l.emitNexusMetric(g),f.useTabbedImmersiveView(a)&&(l.emitNexusMetric(g),l.postCountMetric("dpcc_videoThumbClicked_"+(e.thumbnailIndex+1)+"_"+aa),R.action="videoIngressClick",
R.clickTimeStamp=b.$event.timeStamp,R.$event=b.$event,R.$currentTarget=b.$currentTarget,d.dispatch("videoIngressClick",R),l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:n.update=function(b){null!==Y&&(clearInterval(Y),Y=null,J&&J.parent&&J.parent().css("z-index",-1),G&&G.hide&&G.hide());var e=b.data;"ingress"===e.type||f.lazyLoadingRequired(e,c,a)||E(null);if("swatchHover"===b.type)e.color===c.getCurrentItem().color?q(c.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(e,
c,a)&&!f.lazyLoadOnHoverEnabled(a)&&q(c.getCurrentItem(),"");else if("chromeful-video"===e.type){var g=f.getVideoHash(e.color,e.index,a);if("mouseenter"===b.type){l.postCountMetric("dpcc_videoThumbHovered_"+(e.thumbnailIndex+1)+"_"+aa);var h=l.buildNexusMetric("ib.thumbnailHover",e.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,f.customerId,g.groupType,X,Q,W,ba);l.emitNexusMetric(h)}q(e,"");a.usePeekHover&&"click"!==b.type||!m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(b.$declarativeParent,
z),"click"===b.type&&(g=l.buildNexusMetric("ib.thumbnailClick",e.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,f.customerId,g.groupType,X,Q,W,ba),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===e.type||"tablet"==ha)&&l.emitNexusMetric(g),f.useTabbedImmersiveView(a)&&(l.emitNexusMetric(g),l.postCountMetric("dpcc_videoThumbClicked_"+(e.thumbnailIndex+1)+"_"+aa),R.action="videoIngressClick",R.clickTimeStamp=b.$event.timeStamp,R.$event=b.$event,R.$currentTarget=b.$currentTarget,d.dispatch("videoIngressClick",
R),l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};a.isDPXFeatureEnabled&&(m.on("triggerVideoAjax",V),m.on("notShowVideoCountAjax",w));m.on("vsePlayer-imageblock_tablet",r);m.on("vsePlayer-mbsoftlines",r)}});"use strict";B.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(m,b){function f(b,f,H,I,V){function l(b){"click"===b.type&&I.postCountMetric("thumbClick");"click"===b.type&&A.overrideAltImageClickAction?x.dispatch("thumbActionClick",b):x.dispatch("updateSelection",
b)}function M(b){A.useClickZoom||x.dispatch("imageClick",b)}function E(b){A.useClickZoom||x.dispatch("imageHover",b)}function D(b){x.dispatch("button360Click",b)}function F(f){!H.isDefined(f)||"swatchClick"!==f.type&&"updatedData"!==f.type?(h.update(f),"swatchHover"!==f.type&&e.getPreviousItem().thumbnailIndex!==f.data.thumbnailIndex&&I.postCountMetric(f.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",f.data)):(h.render(f.data.color,!1,f.onload,f.type),f={hasComponents:!0,
components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",f))}function q(b){x.dispatch("resize",b)}function y(b){H.selectThumbnail(b,v)}function K(){"function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function L(){A.interactiveCallJSPEnabled||("function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",
{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===m.useIV?B.when("a-modal").execute(function(){K()}):K());A.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],l);b.declarative("thumb-action",["click"],l);b.declarative("main-image-click",["click"],M);b.declarative("main-image-click",["mouseenter","mouseleave"],E);b.declarative("button-360-click",["click"],D);b.on("resize",
q)}function k(b){var e=b.data,f;e&&"ingress"!==e.type&&"click"===b.type&&(f=b);return f}function g(b){var f=e.getCurrentItem(),g={type:"click"};g.$declarativeParent=b;g.data=f;return g}function r(){var b=v.find(".item.imageThumbnail");if(!(1>=b.length)){var f=e&&e.getCurrentItem()&&e.getCurrentItem().color;f=(f=A.colorImages&&f&&A.colorImages[f])&&f.length;b.removeClass("overlayRestOfImages");b.length<f&&(b.eq(b.length-1).addClass("overlayRestOfImages"),b=document.createElement("div"),b.className=
"lastAltImageOverlay",(f=(f=(f=document.getElementsByClassName("overlayRestOfImages")[0])&&f.getElementsByTagName("img"))&&0<f.length&&f[0])&&f.parentNode&&(f.parentNode.insertBefore(b,f),f=(f=f.parentNode.getElementsByClassName("textMoreImages"))&&0<f.length&&f[0]))&&("T1"===A.desktopCollapsibleThumbnailsExperience?(f.classList.add("textMoreImages-t1"),b.classList.add("lastAltImageOverlay-t1"),I.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===A.desktopCollapsibleThumbnailsExperience&&
(f.classList.add("textMoreImages-t2"),b.classList.add("lastAltImageOverlay-t2"),I.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}function P(b){H.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===b.type&&H.updateThumbnailHoverDelay(b.$target)}var h,A,x,e,v;return function(b,l,m){h=this;A=b;x=l;e=m;v=f("#imageBlock #altImages ul");var n=f("#imageBlock .canvas"),a=f("#main-image-container"),c;h.subViews=[];for(l=0;l<V.length;l++)h.subViews.push(new V[l](b,m,h,x));h.render=function(b,k,
l,m){var d=0;v.find(".item").remove();b=b||e.getCurrentItem().color;f.each(h.subViews,function(c,e){d=(2===A.unrolledImageBlockTreatment||3===A.unrolledImageBlockTreatment?e.render(b,d,n,v,a,k,l,m):e.render(b,d,n,v,a,k,l))||d});"T1"!==A.desktopCollapsibleThumbnailsExperience&&"T2"!==A.desktopCollapsibleThumbnailsExperience||r();var q=v.find(".a-button-selected").closest(".a-declarative");c=g(q)};h.init=function(){v=f("#imageBlock #altImages ul");var a=v.find(".a-button-selected").closest(".a-declarative"),
b=a.data("action");a=a.data(b)||{};a.color=A.landingAsinColor||A.defaultColor;x.dispatch("updateModel",{data:a});h.render(a.color,!0);A.isDebug&&u.console&&console.log(A);x.register("updateView",F);x.register("selectThumbnail",y);L()};h.update=function(a){P(a);f.each(h.subViews,function(b,c){c.update(a)});A.usePeekHover&&("mouseleave"===a.type?x.dispatch("updateSelection",c):"click"===a.type&&(c=k(a)||c))}}}b=["A","jQuery","imageBlockUtils","postMetric"].concat(m.views);B.when.apply(B,b).register("ImageBlockView",
function(){for(var b=arguments[0],l=arguments[1],m=arguments[2],u=arguments[3],B=[],w=4,N=arguments.length;w<N;w++)B.push(arguments[w]);return f(b,l,m,u,B)})})});
/* ******** */
(function(x){var C=window.AmazonUIPageJS||window.P,ia=C._namespace||C.attributeErrors,h=ia?ia("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):C;h.guardFatal?h.guardFatal(x)(h,window):h.execute(function(){x(h,window)})})(function(x,C,ia){x.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(h,a,d,u,l){function T(e,b){var q=a(e+" image").attr("data");a(e+" image")[0].setAttribute("href",
q);e=new Image;e.src=q;e.onload=function(){b(this.width/this.height)}}function v(e){null!==a(e.euclidSvg)&&(new Promise(function(b,a){T(e.euclidSvg,b)})).then(function(b){if(null===a(e.featureDiv)||0===a(e.featureDiv).length||0>=b)var q=null;else{var d=a(e.featureDiv).width(),c=a(e.featureDiv).height(),k=2*(16+r(e.euclidHeightText,e.numberSpace)+10),f=d-k,h=a(e.euclidHeightLine).data("euclid-height-startx");0>h?k+=f*Math.abs(h)*2:1<h&&(k+=f*(h-1)*2);f=d-k;0>f&&(k=152);var R=a(e.euclidWidthLine).data("euclid-width-starty"),
m=1<R?c*(R-1)+50:50,ha=c-m;if(f/ha>b)var A=ha*b,fa=ha,J=ha*b+k,da=c;else A=f,fa=f/b,J=d,da=f/b+m;q={imageWidth:A,imageHeight:fa,svgWidth:J,svgHeight:da}}if("undefined"===typeof q||null===q||10>=q.imageWidth||10>=q.imageHeight||10>=q.svgWidth||10>=q.svgHeight)l.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var p=q,t=e.euclidSvg;a(t+" image").attr("width",p.imageWidth);a(t+" image").attr("height",p.imageHeight);a(t).attr("width",p.svgWidth);a(t).attr("height",p.svgHeight);var w=(p.svgWidth-
p.imageWidth)/2;a(t+" image")[0].setAttribute("x",w);a(t+" image")[0].setAttribute("y",10);var u=p.imageWidth,v=p.imageHeight,z=(p.svgWidth-p.imageWidth)/2,y=a(e.euclidLengthLine).data("euclid-length-startx")*u,Y=a(e.euclidLengthLine).data("euclid-length-starty")*v,E=a(e.euclidLengthLine).data("euclid-length-endx")*u,B=a(e.euclidLengthLine).data("euclid-length-endy")*v,S=a(e.euclidWidthLine).data("euclid-width-startx")*u,G=a(e.euclidWidthLine).data("euclid-width-starty")*v,ba=a(e.euclidWidthLine).data("euclid-width-endx")*
u,T=a(e.euclidWidthLine).data("euclid-width-endy")*v,C=a(e.euclidHeightLine).data("euclid-height-startx")*u,L=a(e.euclidHeightLine).data("euclid-height-starty")*v,ea=a(e.euclidHeightLine).data("euclid-height-endx")*u,qa=a(e.euclidHeightLine).data("euclid-height-endy")*v,fb=(T-G)/(ba-S),gb=0>=fb?"leftInclined":"rightInclined",Ra=1/fb,oa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),pa=0===oa?16:Math.abs(Ra*oa),ra=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),x=0===ra?3:Math.abs(Ra*
ra),Q=(B-Y)/(E-y),O=1/Q,F=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(O,2)))),H=0===F?16:Math.abs(O*F),K=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(O,2)))),M=0===K?3:Math.abs(O*K),Z=0>=Q?"leftInclined":"rightInclined";if(.5<a(e.euclidHeightLine).data("euclid-height-startx")){var U=C+z+16,V=L+10,W=ea+z+16,X=qa+10,ma=C+z+16-3,la=L+10,na=C+z+16+3,ia=L+10,hb=ea+z+16-3,ib=qa+10,jb=ea+z+16+3,kb=qa+10,lb=(U+W)/2+5,mb=(V+X)/2+8,za=ba+z+oa,Aa=T+pa+10,Ba=S+z+oa,Ca=G+pa+10,nb=ba+z+oa-ra,ob=T+pa-x+10,pb=
ba+z+oa+ra,qb=T+pa+x+10,rb=S+z+oa-ra,sb=G+pa-x+10,tb=S+z+oa+ra,ub=G+pa+x+10;if("leftInclined"===gb){var Sa=(za+Ba)/2;var Ta=(Aa+Ca)/2+15}else Sa=(za+Ba)/2+5,Ta=(Aa+Ca)/2;var Da=y+z-F,Ea=Y+H+10,Fa=E+z-F,Ga=B+H+10,vb=y+z-F-K,wb=Y+H+M+10,xb=y+z-F+K,yb=Y+H-M+10,zb=E+z-F-K,Ab=B+H+M+10,Bb=E+z-F+K,Cb=B+H-M+10,Fb=r(e.euclidLengthText,e.numberSpace);if("leftInclined"===Z)var Ua=(Da+Fa)/2,Va=(Ea+Ga)/2+15;else Ua=(Da+Fa)/2-Fb,Va=(Ea+Ga)/2+15}else{U=C+z-16;V=L+10;W=ea+z-16;X=qa+10;ma=C+z-16-3;la=L+10;na=C+z-
16+3;ia=L+10;hb=ea+z-16-3;ib=qa+10;jb=ea+z-16+3;kb=qa+10;var Gb=r(e.euclidHeightText,e.numberSpace);lb=(U+W)/2-Gb-3;mb=(V+X)/2+8;za=ba+z-oa;Aa=T+pa+10;Ba=S+z-oa;Ca=G+pa+10;nb=ba+z-oa-ra;ob=T+pa+x+10;pb=ba+z-oa+ra;qb=T+pa-x+10;rb=S+z-oa-ra;sb=G+pa+x+10;tb=S+z-oa+ra;ub=G+pa-x+10;var Db=r(e.euclidWidthText,e.numberSpace);"leftInclined"===gb?(Sa=(za+Ba)/2-Db,Ta=(Aa+Ca)/2):(Sa=(za+Ba)/2-Db,Ta=(Aa+Ca)/2+15);Da=y+z+F;Ea=Y+H+10;Fa=E+z+F;Ga=B+H+10;vb=y+z+F+K;wb=Y+H+M+10;xb=y+z+F-K;yb=Y+H-M+10;zb=E+z+F+K;Ab=
B+H+M+10;Bb=E+z+F-K;Cb=B+H-M+10;"leftInclined"===Z?(Ua=(Da+Fa)/2,Va=(Ea+Ga)/2+15):(Ua=(Da+Fa)/2+15,Va=(Ea+Ga)/2)}var Hb=Da;var Ib=Ea;var Jb=Fa;var Kb=Ga;var Lb=vb;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Ua;var Ub=Va;var Vb=za;var Wb=Aa;var Xb=Ba;var Yb=Ca;var Zb=nb;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=Sa;var hc=Ta;var ic=U;var jc=V;var kc=W;var lc=X;var mc=ma;var nc=la;var oc=na;var pc=ia;var qc=hb;var rc=ib;var sc=jb;var tc=
kb;var uc=lb;var vc=mb;ja(t+" .hit-pd-euclid-height-line",ic,jc,kc,lc);ja(t+" .hit-pd-euclid-height-start",mc,nc,oc,pc);ja(t+" .hit-pd-euclid-height-end",qc,rc,sc,tc);ka(t+" .hit-pd-euclid-height-text",uc,vc);ja(t+" .hit-pd-euclid-width-line",Vb,Wb,Xb,Yb);ja(t+" .hit-pd-euclid-width-start",Zb,$b,ac,bc);ja(t+" .hit-pd-euclid-width-end",cc,dc,ec,fc);ka(t+" .hit-pd-euclid-width-text",gc,hc);ja(t+" .hit-pd-euclid-length-line",Hb,Ib,Jb,Kb);ja(t+" .hit-pd-euclid-length-start",Lb,Mb,Nb,Ob);ja(t+" .hit-pd-euclid-length-end",
Pb,Qb,Rb,Sb);ka(t+" .hit-pd-euclid-length-text",Tb,Ub);P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(e===N&&"dimension-ingress-image"===I.getCurrentItem().type?(D(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),l.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-
sa)):e===ca&&(a("ivDimensionTab").css("display","block"),g(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),l.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-n)))}});P("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&O(e===N,I.getCurrentItem(),null)}function r(e,b){return a(e).text().replace(/[^0-9]/g,"").length*b+5}function ja(e,b,q,d,c){e=a(e)[0];e!==ia&&null!==e&&(e.setAttribute("x1",b),e.setAttribute("y1",
q),e.setAttribute("x2",d),e.setAttribute("y2",c))}function ka(e,b,d){var q=a(e)[0];q!==ia&&null!==q&&(q.setAttribute("x",b),q.setAttribute("y",d),e=a(e+" tspan"),e!==ia&&null!==e&&2===e.length&&(e[0].setAttribute("x",b),e[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),e[1].setAttribute("x",b),e[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function Z(e){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){e=
J(e.color);if(null===e)return;if(e in F)P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&F[e].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),F[e]=b):H(e)}}v(N)}}
function H(e){try{setTimeout(function(){k++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(e in F||(F[e]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),v(N)):100>
k&&H(e)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function P(e){return"true"===a(e).attr("data-should-use-in-hero")}function O(e,b,d){var q=m.colorImages[b.color],c=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");c&&0<c.length?(q=x(q),U(q,e,b,d)):V(q,e,b,d)}function V(e,b,d,c){try{setTimeout(function(){W++;var q=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");
q&&0<q.length?(q=x(e),U(q,b,d,c)):100>W?V(e,b,d,c):(l.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),q=e[0],U(q,b,d,c))},100)}catch(Ia){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+Ia)}}function x(e){for(var b=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),d=e[0],c=0;c<e.length;c++){var k=e[c];k.variant===b&&(d=k)}d===e[0]&&l.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return d}function U(e,b,q,c){b?((b=fa.find(".item.dimensionItemNo"+q.thumbnailIndex))&&b.remove(),b=q.thumbnailIndex,c=Q(e,c),q=fa.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),q.addClass("image item dimensionItemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1}),q.find(".placeHolder").replaceWith(c),q.find(".a-declarative").attr("data-action",
"dimension-hero-click"),fa.find(".list").append(q),h.loadImageManually(c),c=b=q,q=da.css("height"),null!==q&&c.find(".imgTagWrapper").css("height",q),c.addClass("selected"),m.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(m.imgTagWrapperClasses),R.dispatch("loadMagnifier"),c=b,m.useIV&&d.isDefined(e.hiRes)&&c.css("cursor","pointer"),h.trigger("dp:image-block:update",e)):(K(e),g(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function K(e){var b=a("#ivDimensionTab #ivLargeDimensions");
if(0<b.find(".imgTagWrapper").length){var d=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return G(b,d)}d=a("\x3cdiv\x3e\x3c/div\x3e");d.addClass("imgTagWrapper");var c=a("\x3cimg\x3e");d.html(c);b.append(d);d=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");d.attr("src",e.hiRes);return G(b,d)}function G(a,b){a=a.closest("#ivStageDimensions");var e=a.width();a={height:"auto","max-height":a.height(),"max-width":e,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");
b.css(a);return b}function Q(e,b){var c="a-dynamic-image";if(!m.acEnabled){var k;a.each(e.main,function(b,a){d.isDefined(k)||(k=parseFloat(a[1]/a[0])<=parseFloat(m.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=k}var f=d.getMaxDimensionsOfMainImage(e.main,da,m),g=f[0],I=f[1];f=a("\x3cdiv\x3e\x3c/div\x3e");g={"max-height":g,"max-width":I};f.addClass(c).css(g).attr({"data-old-hires":e.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",e.main);return f}function c(){a("#image-canvas-caption #canvasCaption").html(m.dimensionIngressAtfData.initial.heroImageCaption)}
function J(a){var b=m.colorToAsin[a];return b&&b.asin?a=m.colorToAsin[a].asin:a=m.mediaAsin?m.mediaAsin:null}function t(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function D(){null!==a(N.euclidSvg)&&0!==a(N.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
2)):O(N,I.getCurrentItem(),null)}function E(a,b){m.usePeekHover&&"click"!==b.type||d.selectGivenThumbnail(b.$declarativeParent,a)}function y(a){a.action="dimensionIngressClick";a.data=ba;R.dispatch("dimensionIngressClick",a)}function L(){n=Date.now();if(S&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var e=J(I.getCurrentItem().color);if(null!==e){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var b=a("#ivDimensionTab #ivLargeDimensions").length;
console.log("checkImmersiveViewContainer",b);e in F?F[e].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),b.length?(b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),F[e]=b):p(e));u.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,m);u.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));ma();S=!1}e=a("#iv-tab-view-container").find("#ivThumbsDimensions");
e.find(".ivRow").not(".placeholder").remove();b=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e);var d=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,c=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(d){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var k=
m.colorImages[I.getCurrentItem().color];k=x(k);K(k);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}f(e,b,k.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}c&&(k=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),f(e,b,k,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}B()}function B(){ha=a("#ivDimensionTab").height();if(0!==
ha){u.detachImmersiveViewResizeHandler(L);var e=a("#ivDimensionTab #ivMainDimensions"),b=a("#ivDimensionTab").height(),d=a("#ivDimensionTab").width();e.css("height",b);e.css("width",d);d=e.find("#ivTitleDimensions").outerHeight(!0);var c=e.find("#ivVariationSelectionDimensions").outerHeight(!0),k=e.find("#ivThumbsDimensions"),f=u.getDimension(k,"margin-top")+u.getDimension(k,"margin-bottom");k.css("height",b-d-c-f);d=e.find("#ivStageDimensions");e=(e[0]&&e[0].getBoundingClientRect&&Math.floor(e[0].getBoundingClientRect().width)||
e.width())-u.getDimension(e,"padding-left")-u.getDimension(e,"padding-right")-e.find("#ivThumbColumnDimensions").width()-u.getDimension(d,"margin-left")-u.getDimension(d,"margin-right");d.css("width",e);d.css("height",b);v(ca)}}function f(a,b,d,c,k){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:k}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+u.getResizedThumbnailURL(d)+'") center no-repeat');c.hasClass("aok-hidden")||a.addClass("selected");A(a,c)}function A(a,
b){a.click(function(){g(a,b)})}function g(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&G(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function p(e){try{setTimeout(function(){X++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(e in F||(F[e]=b),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),B()):100>X&&p(e)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+b)}}function ea(e,b){M&&clearTimeout(M);"mouseenter"===b.type&&(M=setTimeout(function(){Z(e);a("#image-canvas-caption #canvasCaption").empty();c();E(Y,b)},d.getHoveringDelayTimer()));"mouseleave"===b.type&&c()}var w,m,I,R,Y,fa,da,ba,S=!0,sa,n,M,C,F={},
k=0,X=0,W=0,ha,N={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",
euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},ca={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",
euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},ma=h.once(function(){u.attachImmersiveViewResizeHandler(L)});h.on.resize(function(){P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&v(N)});return function(e,b,f,g){w=this;m=e;I=b;R=g;e=m.mediaAsin;b=[];m&&m.dimensionIngressAtfData&&m.dimensionIngressAtfData.initial&&(b=m.dimensionIngressAtfData.initial.dimensionVariantList);d.setDimensionIngressData(e,m.dimensionIngressEnabled,
b);w.render=function(b,e,c,f,g,q){Y=f;fa=2!==m.unrolledImageBlockTreatment&&3!==m.unrolledImageBlockTreatment?c:a(".unrolledScrollBox");da=g;S=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions").empty();X=k=0;c=J(I.getCurrentItem().color);if(null!==c){if(d.isDimensionIngressEnabled(c)&&m.dimensionIngressThumbURL&&m.dimensionIngressThumbURL.initial&&
m.dimensionIngressThumbURL.initial.length){c=d.getDimensionVariantList(c);if(c.includes("DIMN")||c.includes("DCMN"))Array.isArray(c)||(c=JSON.parse(c.replace(/(\w+)/g,'"$1"'))),c.push("DIMN"),c.push("DCMN");if(c&&0<c.length){g=m.colorImages[b];q=f.find(".item.imageThumbnail");for(var h=0;h<q.length&&h<m.maxAlts-1;h++){var R=g[h].variant;"MAIN"!=R&&c.includes(R)&&(R=q.eq(h))&&(R.remove(),e--)}}e===m.maxAlts&&(f.find(".item.imageThumbnail").last().remove(),e--);ba={type:"dimension-ingress-image",index:0,
thumbnailIndex:e,variant:"Main"};d.createThumbnail(ba,m.dimensionIngressThumbURL.initial,f,"dimension-ingress-imageblock-thumbnail");f=m.dimensionIngressAtfData.initial.thumbnailCaption;f=a("\x3cspan /\x3e").html(f);f.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");f.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(f);e++;a("#ivDimensionTabHeading").removeClass("aok-hidden");
J(b)!==m.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return e}a("#ivDimensionTabHeading").addClass("aok-hidden")}};w.update=function(b){var e=b.data;I.setCurrentEvent(b);"dimension-ingress-image"===e.type?(e.interaction=b.type,e.isUserGenerated=!0,"mouseenter"===b.type&&(sa=Date.now(),l.postCountMetric("dpcc_dimensionIngressHovered")),d.isImageBlockGridViewHoverDelayEnabled()?
ea(e,b):(Z(e),a("#image-canvas-caption #canvasCaption").empty(),c(),E(Y,b)),"click"===b.type&&d.useTabbedImmersiveView(m)&&(y(b),l.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?e.color===I.getCurrentItem().color&&"dimension-ingress-image"===I.getCurrentItem().type?D():t():d.isImageBlockGridViewHoverDelayEnabled()?(I.setToPreviousItem(),"mouseenter"===b.type&&(C&&clearTimeout(C),C=setTimeout(function(){I.setToCurrentItem(e);t()},d.getHoveringDelayTimer())),"mouseleave"===
b.type&&C&&clearTimeout(C),"click"===b.type&&(I.setToCurrentItem(e),t())):t()};u.attachTabSelectHandler("ivDimensionTab",L);h.declarative("dimension-hero-click",["click"],y)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(h,a,d,u,l){function T(){l.populateTitle(c.find("#ivTitle"),160,G)}function v(){var a=Q.getCurrentItem().color;t=G.colorImages[a];J=G.heroImage[a];D=E=0;d.isDefined(J)&&(D=J.length);
d.isDefined(t)&&(E=t.length)}function r(){var a=c.find("#ivStage").find("#ivLargeImage"),d=a.width(),g=a.height(),h=a.find(".fullscreen");h.removeAttr("style");var m=h.width(),l=h.height();0<h.length&&(h[0].naturalWidth&&(m=h[0].naturalWidth),h[0].naturalHeight&&(l=h[0].naturalHeight));a.css("cursor","auto");m=0===m?1:m;l=0===l?1:l;var t=Math.min(d/m,g/l),p=l*t,n=m*t;1>t?(L?a.css("cursor","url('"+G.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),A=!0):A=!1;m=Math.min(n,m);l=Math.min(p-20,l);h.css({"margin-top":(g-l)/2,"margin-left":(d-m)/2,height:l,width:m});a.css("visibility","visible");f=!1}function x(a){var d=c.find("#ivLargeImage");d.css("visibility","hidden");d.empty();l.animateStageIn(d);d.append(a);r()}function C(f){c.find("#ivLargeImage").css("display","none");c.find("#ivLargeImage").css("display","block");if("hero-image"===f){if(d.isDefined(J)){var g=J[y.index];var m=g.hiRes||g.large||g.main[g.main.length-1]}}else d.isDefined(t)&&
(g=t[y.index],m=g.hiRes||g.large||g.main[g.main.length-1]);if(d.isDefined(m)){c.find(".fullscreen").remove();f="fullscreen";g.feedbackMetadata&&(f+=" celwidget "+g.feedbackMetadata);var I=a("\x3cimg\x3e").attr("src",m).addClass(f),p=c.find("#ivLargeImage");l.animateStageOut(p,function(){I.load(function(){x(I);h.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index)});if(I[0].complete)x(I),h.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index);else{p.empty();var d=(p.height()-104)/
2,c=(p.width()-80)/2;a("\x3cimg\x3e").attr("src",G.staticImages.spinner).css({position:"relative",top:d+"px",left:c+"px"}).appendTo(p)}})}}function Z(a){c.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?y.type="hero-image":y.type="image";y.index=a.attr("id").split("_")[1];C(y.type);u.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(y.index,10)+1)+"_"+(D+E))}function H(){c.delegate(".ivThumb","click",function(){var d=a(this);Z(d)})}function P(a,d){return 0<
d?d/2:Math.min(0,Math.max(d,a))}function O(a){var d=p.top-(a.pageY-w[1])*ea;a=P(p.left-(a.pageX-w[0])*ea,g.left);d=P(d,g.top);c.find(".fullscreen").css({left:a,top:d})}function V(){c.delegate("#ivLargeImage","click",function(a){if(f)r();else if(A){c.find(".fullscreen").removeAttr("style");if(A){var d=c.find("#ivLargeImage"),h=d.find(".fullscreen");L?d.css("cursor","url('"+G.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));
f=!0;var m=c.find("#ivLargeImage");g.left=m.width()-h.width();g.top=m.height()-h.height();m=d.height()/2;var l=d.width()/2;w=[d.offset().left+l,d.offset().top+m];p.top=m-h.height()/2;p.left=l-h.width()/2;h.css({position:"relative",left:p.left,top:p.top});ea=Math.max(h.height()/d.height(),h.width()/d.width())}O(a);u.postCountMetric("dpcc_iv_largeImageCLick")}});c.delegate("#ivLargeImage","mousemove",function(a){f&&O(a)})}function la(){c.find("#ivLargeImage").empty()}function U(f){if(B){c=a("#ivMain");
v();y=Q.getCurrentItem();T();l.populateVariationSelection(c.find("#ivVariationSelection"));f=c.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();var g=D+E,h=!1;G&&G.dimensionIngressAtfData&&G.dimensionIngressAtfData.initial&&(h=G.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var p=0,A=0;p<g;)for(var u=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),w=0;4>w&&p<g;w++,p++,A++)if(A<D){var r=J[p].thumb,n=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
p,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":p+1}).appendTo(u);n.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(r)+'") center no-repeat')}else if(A>=D&&A<E+D){r=G.colorToAsin[Q.getCurrentItem().color].asin;r||(r=G.mediaAsin);if((n=d.isDimensionIngressEnabled(r))&&h){if((r=d.getDimensionVariantList(r))&&r.includes(t[p-D].variant)){w--;continue}}else if(n&&"DIMN"===t[p-D].variant){w--;
continue}r=t[p-D].thumb;n=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(p-D),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":p-D+1}).appendTo(u);n.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(r)+'") center no-repeat')}m();B=!1}else T();f=a("#ivImagesTab").height();c.css("height",f);g=c.find("#ivTitle").outerHeight(!0);h=c.find("#ivVariationSelection").outerHeight(!0);
p=c.find("#ivThumbs");A=l.getDimension(p,"margin-top")+l.getDimension(p,"margin-bottom");p.css("height",f-g-h-A);c.find("#ivLargeImage").css("height",f);f=c.find("#ivStage");g=c[0]&&c[0].getBoundingClientRect&&Math.floor(c[0].getBoundingClientRect().width)||c.width();f.css("width",g-l.getDimension(c,"padding-left")-l.getDimension(c,"padding-right")-c.find("#ivThumbColumn").width()-l.getDimension(f,"margin-left")-l.getDimension(f,"margin-right"));y=Q.getCurrentItem();f="hero-image"===y.type?c.find("#ivHeroImage_"+
y.index):"image"===y.type?c.find("#ivImage_"+y.index):d.isDefined(J)?c.find("#ivHeroImage_"+y.index):c.find("#ivImage_"+y.index);d.isjQueryObjDefined(f)||(f=c.find("#ivImage_0"));Z(f)}var K,G,Q,c,J,t,D,E,y,L=navigator.userAgent.match(/msie|trident/i),B=!0,f=!1,A=!1,g={},p={},ea,w;B=!0;var m=h.once(function(){H();V();l.attachImmersiveViewResizeHandler(U);l.attachTabDeselectHandler("ivImagesTab",la)});return function(d,c,f,g){K=this;G=d;Q=c;K.render=function(d,c,f,g,h,m){B=!0;v();0===D+E?l.hideTabHeading("ivImagesTabHeading"):
l.unhideTabHeading("ivImagesTabHeading");1===D+E?a("#ivThumbs").hide():a("#ivThumbs").show()};K.update=function(a){};l.attachTabSelectHandler("ivImagesTab",U)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(h,a,d,u,l,T,v){function r(){var d=P.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),l=d.find(".a-popover-inner");d=d.height()-
v.getDimension(l,"padding-top")-v.getDimension(l,"padding-bottom");a("#iv-tab-view-container").css("height",d);la=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<la?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),l=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),d-=l):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",d);h.trigger("dp:image-block:immersive-view:resize")}
function ja(){h.trigger("dp:image-block:immersive-view:reset")}function ka(c){if(d.isImmersiveViewEnabled(H,P.getCurrentItem().color))if(K){var r=c.$event.originalEvent;r.acknowledge&&r.acknowledge(c.$currentTarget[0]);l.isEnabled&&T.logImmersiveViewRequestServed(l);u.postCountMetric("dppc_immersiveViewOpened");d.isDefined(c)&&("button-360-click"===c.action?a("#iv360TabHeading").click():"videoIngressClick"===c.action?(U=c.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===c.action?
(U=c.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===c.action?(U=c.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());r=P.getImmersiveViewModalInstance();if(d.isDefined(r))r.show();else{c=a("#auiImmersiveViewDiv");r=Math.min(Math.max(a(C).height()-150,540),1080);var t=Math.min(Math.max(a(C).width()-75,990),1980);r=K.create(c,{name:"immersiveView",activate:"onclick",width:t,height:r,popoverLabel:"ImmersiveView",hideHeader:!0});P.setImmersiveViewModalInstance(r);
c.click()}V&&(V=!1,G(),h.trigger("dp:image-block:immersive-view:init"))}else C.performance&&performance.now&&C.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else u.postCountMetric("immersiveViewNotExistsClickCount")}var Z,H,P,O,V=!0,la=0,U,K;x.when("a-modal").execute(function(a){K=a});var G=h.once(function(){h.on("a:popover:afterUpdatePosition:immersiveView",r);h.on("a:popover:afterShow:immersiveView",r);h.on("a:popover:afterHide:immersiveView",
ja)}),Q=h.once(function(){var d=a("#iv-tab-view-container ul.iv-tab-views li");d.bind("click",function(c){var l=d.filter(".iv-active");l.attr("id")!==a(this).attr("id")&&h.trigger("dp:ivTabs:"+l.find("a").attr("data-iv-tab-view")+":deselect",c);d.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();l=a(this).find("a").attr("data-iv-tab-view");a("#"+l).show();"ivVideosTab"===l&&(c.clickTimeStamp=U||c.timeStamp);h.trigger("dp:ivTabs:"+l+":select",
c);u.postCountMetric("dppc_"+l);return!1})});return function(a,r,t,v){Z=this;H=a;P=r;l.refToModel=P;O=v;Z.render=function(a,d,c,h,f,l){u.postCountMetric("dpcc_altThumbs_"+d);V=!0};Z.update=function(a){};Z.getTitle=function(){};Z.getVariationSelectionInfo=function(){};Q();d.isImmersiveViewEnabled(H,P.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");O.register("imageClick",ka);O.register("button360Click",ka);(H.collapsibleThumbnails||"T1"===H.desktopCollapsibleThumbnailsExperience||"T2"===
H.desktopCollapsibleThumbnailsExperience)&&h.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&(ka(a),"T1"===H.desktopCollapsibleThumbnailsExperience?u.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===H.desktopCollapsibleThumbnailsExperience&&u.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2"))});d.useTabbedImmersiveView(H)&&(O.register("videoIngressClick",ka),O.register("showroomIngressClick",ka),O.register("dimensionIngressClick",
ka))}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(h,a,d,u,l,T,v,r){function ja(){k.find("#ivTitle").click(function(){F.hide()})}function ka(){b=db?{type:"360-spin"}:M.getCurrentItem()}function Z(){var a=k.find("#ivStage"),b=F.$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner");b=b.height()-r.getDimension(d,"padding-top")-
r.getDimension(d,"padding-bottom");k.css("height",b);d=k.find("#ivTitle").outerHeight(!0);var e=k.find("#ivVariationSelection").outerHeight(!0),c=k.find("#ivMediaSelection").outerHeight(!0),f=k.find("#ivThumbs"),g=r.getDimension(f,"margin-top")+r.getDimension(f,"margin-bottom");f.css("height",b-d-e-c-g);k.find("#ivLargeImage").css("height",b);a.css("width",k.width()-r.getDimension(k,"padding-left")-r.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-r.getDimension(a,"margin-left")-
r.getDimension(a,"margin-right"))}function H(){k.find("#ivMediaSelect").change(function(){var d=a(this).val();"all"===d?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").show(),"chromeful-video"===b.type&&k.find("#ivVideo_"+b.index).click()):"images"===d?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").hide(),"chromeful-video"===b.type&&(0===ca&&0===N?k.find("#iv360").click():0===ca?k.find("#ivHeroImage_0").click():k.find("#ivImage_0").click())):
"videos"===d&&(k.find("#ivVideoList").show(),k.find("#ivThumbs").hide(),"chromeful-video"!==b.type?k.find("#ivVideoList_0").click():k.find("#ivVideoList_"+b.index).click())})}function P(){var a=k.find("#ivStage").find("#ivLargeImage"),b=a.width(),d=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var c=e.width(),f=e.height();0<e.length&&(e[0].naturalWidth&&(c=e[0].naturalWidth),e[0].naturalHeight&&(f=e[0].naturalHeight));a.css("cursor","auto");c=0===c?1:c;f=0===f?1:f;var g=Math.min(b/c,d/
f),h=f*g,q=c*g;1>g?(eb?a.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Na=!0):Na=!1;c=Math.min(q,c);f=Math.min(h-20,f);e.css({"margin-top":(d-f)/2,"margin-left":(b-c)/2,height:f,width:c});a.css("visibility","visible");Ma=!1}function O(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();r.animateStageIn(b);b.append(a);P()}function V(){q&&q.pause();k.find("#ivLarge360").css("display",
"none");k.find("#ivLargeVideo").css("display","none");k.find("#ivLargeImage").css("display","none");c()}function la(e){V();k.find("#ivLargeImage").css("display","block");if("hero-image"===e){if(d.isDefined(X)){var c=X[b.index];var qa=c.hiRes||c.large||c.main[c.main.length-1]}}else d.isDefined(W)&&(c=W[b.index],qa=c.hiRes||c.large||c.main[c.main.length-1]);if(d.isDefined(qa)){k.find(".fullscreen").remove();e="fullscreen";c.feedbackMetadata&&(e+=" celwidget "+c.feedbackMetadata);var f=a("\x3cimg\x3e").attr("src",
qa).addClass(e),g=k.find("#ivLargeImage");r.animateStageOut(g,function(){f.load(function(){O(f)});if(f[0].complete)O(f);else{g.empty();var b=(g.height()-104)/2,d=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(g)}})}}function U(){var a;d.isDefined(ha)&&(a=ha[b.index]);d.isDefined(a)&&V()}function K(){ka();var a="hero-image"===b.type?k.find("#ivHeroImage_"+b.index):"image"===b.type?k.find("#ivImage_"+b.index):"chromeful-video"===
b.type||"chromeless-video"===b.type?k.find("#ivVideo_"+b.index):"360-spin"===b.type?k.find("#iv360"):d.isDefined(X)?k.find("#ivHeroImage_"+b.index):k.find("#ivImage_"+b.index);d.isjQueryObjDefined(a)||(a=k.find("#ivImage_0"));G(a)}function G(a){k.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(b.type="chromeful-video",b.index=a.attr("id").split("_")[1],U()):a.hasClass("ivHeroImage")?(b.type="hero-image",b.index=a.attr("id").split("_")[1],la(b.type)):a.hasClass("iv360Image")?
(b.type="360-spin",b.index=0,Q()):(b.type="image",b.index=a.attr("id").split("_")[1],la(b.type))}function Q(){V();k.find("#ivLarge360").css("display","block");y();var a=k.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});r.animateStageIn(a)},200);t();l.postCountMetric("dppc_click360");ya=Date.now()}function c(){0<ya&&(J("dppc_duration360",Date.now()-ya),ya=0)}function J(a,b){C.ue&&C.ue.count(a,b)}function t(){if(0<z){var a=k.find(".iv360Hint");a.removeClass("iv360HintFaded");
a.animate({opacity:1},200)}}function D(b,d){if(z<b.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*ta+"px",height:va+"px"});e.hide();d.append(e);e.get(0).onload=function(){d.closest(document.documentElement).length&&(z++,1===z&&(t(),0<ya&&J("dppc_loadTime360",Date.now()-ya)),0<$a&&J("dppc_perSpriteloadTime360",Date.now()-$a),k.find("#iv360Spinner").hide(),e.show(),Ja=5*aa.imageLocations[Math.floor(Ha/aa.imageLocations[0].length)][Ha%aa.imageLocations[0].length],D(b,d))};e.attr("src",
b[z].replace(/(\._SP)\d+(,)\d+/,"$1"+xa+"$2"+wa));$a=Date.now()}}function E(a){if(d.isDefined(aa.spriteWidthSizes)&&0<aa.spriteWidthSizes.length){var b=aa.spriteWidthSizes,e=b.length,c=b[0],f=b[e-1];if(a<=c)return c;if(a>f)return f;for(c=0;c<e;c++)if(a>b[c]&&a<=b[c+1])return b[c+1]}else return a}function y(){var b=k.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ya=!0,L())}function L(){if(d.isDefined(aa.spriteURLs)&&d.isDefined(k)&&Ya&&!Za){var b=k.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(aa.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",aa.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(e);e.appendTo(b);e=aa.imageWidth;var c=aa.imageHeight,h=b.parent().width(),q=b.parent().height(),l=0,m=0;e/c>h/q?(xa=E(h),wa=Math.round(c/e*xa),ta=Math.ceil(h),va=Math.ceil(wa/xa*h),m=(q-va)/2):
(wa=E(q),xa=Math.round(e/c*wa),va=Math.ceil(q),ta=Math.ceil(xa/wa*q),l=(h-ta)/2);b.css({"margin-left":l,"margin-top":m,width:ta+"px",height:va+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ta+"px");D(aa.spriteURLs,k.find("#image-360-sprites"),0);e=k.find("#ivLarge360");e.bind("mousedown",g);e.bind("touchstart",B);e.bind("touchmove",f);e.bind("touchend",A);a(document).bind("mousemove",p);a(document).bind("mouseup",ea);d.isDefined(n.staticImages.grab)&&
b.css("cursor","url('"+n.staticImages.grab+"'), auto");Za=!0}}function B(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function f(a){La&&(w(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function A(a){La&&(La=!1)}function g(a){Ka=!0;Wa=a.originalEvent.clientX;d.isDefined(n.staticImages.grabbing)&&(a=k.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+
"'), auto"));return!1}function p(a){Ka&&(w(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function ea(a){Ka&&(Ka=!1,d.isDefined(n.staticImages.grab)&&(a=k.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function w(a){for(a=Ja-=a/ta*180;0>a;)a+=360;for(;360<a;)a-=360;Ja=a;a=360;for(var b=0;b<z;b++)for(var e=0;e<aa.imageLocations[b].length;e++){var c=Math.abs(Ja-5*aa.imageLocations[b][e]);if(c<a){a=c;var f=
b*aa.imageLocations[0].length+e}}f!==Ha&&(a=Math.floor(f/aa.imageLocations[0].length),a!==Math.floor(Ha/aa.imageLocations[0].length)&&(d.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=k.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=k.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Ha=f;a=f%aa.imageLocations[0].length*-1*ta;f=-1*Math.floor(f/aa.imageLocations[0].length)*va;b=k.find("#ivLarge360").children("#image-360-sprites");
b.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");b.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function m(){k.delegate(".ivThumb","click",function(){var b=a(this);G(b)});k.delegate(".ivThumbVideoListOuter","click",function(){k.find(".ivThumbVideoListOuter").removeClass("selected");var e=a(this);e.addClass("selected");b.type="chromeful-video";b.index=e.attr("id").split("_")[1];U()})}function I(){k.find("#ivLargeImage").empty();c()}function R(a,b){return 0<b?b/2:Math.min(0,Math.max(b,
a))}function Y(b){var e=ua.left-(b.pageX-Qa[0])*Pa;h.capabilities.rtl&&(e=ua.left-(a(C).width()-b.pageX-Qa[0])*Pa);b=ua.top-(b.pageY-Qa[1])*Pa;e=R(e,Oa.left);b=R(b,Oa.top);k.find(".fullscreen").css({left:e,top:b})}function fa(){k.delegate("#ivLargeImage","click",function(a){if(Ma)P();else if(Na){k.find(".fullscreen").removeAttr("style");if(Na){var b=k.find("#ivLargeImage"),e=b.find(".fullscreen");eb?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor",
"-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var d=k.find("#ivLargeImage");Oa.left=d.width()-e.width();Oa.top=d.height()-e.height();d=b.height()/2;var c=b.width()/2;Qa=[b.offset().left+c,b.offset().top+d];ua.top=d-e.height()/2;ua.left=c-e.width()/2;e.css({position:"relative",left:ua.left,top:ua.top});Pa=Math.max(e.height()/b.height(),e.width()/b.width())}Y(a)}});k.delegate("#ivLargeImage","mousemove",function(a){Ma&&Y(a)})}function da(b){if(d.isImmersiveViewEnabled(n,M.getCurrentItem().color))if(cb){var c=
b.$event.originalEvent;c.acknowledge&&c.acknowledge(b.$currentTarget[0]);db=d.isDefined(b)&&"button-360-click"===b.action;T.isEnabled&&v.logImmersiveViewRequestServed(T);l.postCountMetric("dppc_immersiveViewOpened");if(d.isDefined(F))F.show();else{b=a("#auiImmersiveViewDiv");c=a(C).height()-150;var f=a(C).width()-75;F=cb.create(b,{name:"immersiveView",activate:"onclick",width:f,height:c,popoverLabel:"ImmersiveView",hideHeader:!0});b.click()}if(bb){k=a("#ivMain");b=M.getCurrentItem().color;W=n.colorImages[b];
X=n.heroImage[b];ha=n.useChildVideos?n.colorToVideo[b]:n.videos;Ia=S()&&n.spin360ColorEnabled[b];aa=S()?n.spin360ColorData[b]:ia;ka();e=N=ma=ca=0;d.isDefined(X)&&(N=X.length);d.isDefined(W)&&(ca=W.length);d.isDefined(ha)&&(ma=ha.length);Ia&&(e=1);r.populateTitle(k.find("#ivTitle"),45,n);r.populateVariationSelection(k.find("#ivVariationSelection"));b=k.find("#ivMediaSelect");0===ca+e||0===ma?(b.parent().hide(),k.find("#ivThumbs").addClass("noMediaSelection")):(b.empty(),a("\x3coption/\x3e").attr("value",
"all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(N+ca+e+ma)+")").appendTo(b),a("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(N+ca+e)+")").appendTo(b),a("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+ma+")").appendTo(b),b.parent().show(),b.val("all"));b=k.find("#ivThumbs");b.find(".ivRow").not(".placeholder").remove();c=N+ca+ma+e;for(var g=f=0;f<c;)for(var q=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b),
m=0;3>m&&f<c;m++,f++,g++)if(g<N){var p=X[f].thumb,A=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(q);A.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(p)+'") center no-repeat')}else if(g>=N&&g<ca+N)p=W[f-N].thumb,A=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-N)).appendTo(q),A.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(p)+
'") center no-repeat');else if(g>=N+ca&&g<ca+N+e)A=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(q),A.find(".ivThumbImage").css("background",'url("'+(d.isDefined(n.staticImages.icon360)?r.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(p=ha[f-ca-N-e],A=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(f-ca-N-e)).appendTo(q),A.find(".ivThumbImage").css("background",
'url("'+p.thumbUrl+'") center no-repeat'),d.isDefined(p)){var t={position:"triggerTop"},u=k.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");u.find(".ivVideoPopoverTitle").text(p.title);u.find(".ivVideoPopoverDuration").text(p.durationTimestamp);t.inlineContent=u[0];h.declarative.create(A,"a-tooltip",t)}b=k.find("#ivVideoList");b.find(".ivThumbVideoListOuter").not(".placeholder").remove();c=b.find(".placeholder");for(f=0;f<ma;f++)g=ha[f],q=c.clone().removeClass("placeholder").appendTo(b),
q.attr("id","ivVideoList_"+f),q.find(".ivThumbImage").css("background",'url("'+g.thumbUrl+'") center no-repeat'),q.find(".ivThumbTitle").text(g.title),q.find(".ivThumbDuration").text(g.durationTimestamp);k.find("#ivLarge360").empty();z=0;bb=Za=Ya=!1;Eb()}}else C.performance&&performance.now&&C.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}function ba(b){var a=n.colorToAsin[b],
e={},c=500;if(a&&a.asin){e.params={asin:a.asin};var f="360"+a.asin,g=Date.now();e.success=function(a){J("dppc_asyncRequestTime360",Date.now()-g);a&&d.isDefined(a.spin360.spin360Model)?(d.ajaxState(f,"success"),n.spin360ColorData[b]=a.spin360.spin360Model,b===M.getCurrentItem().color&&(aa=n.spin360ColorData[b],L())):e.error()};e.error=function(){l.postCountMetric("dppc_asyncFailed360");J("dppc_asyncRequestTime360",Date.now()-g);c*=2;16E3>=c?setTimeout(function(){g=Date.now();u.load("/gp/product/features/apparel-main-image/360.html",
e)},c):d.ajaxState(f,"fail")};d.ajaxState(f)&&"fail"!==d.ajaxState(f)||(u.load("/gp/product/features/apparel-main-image/360.html",e),d.ajaxState(f,"sent"))}}function S(){return d.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var sa,n,M,na,F,k,X,W,ha,N,ca,ma,e,b,q,aa,Ia,ta,va,wa,xa,Wa,Xa,db=!1,Ya=!1,Za=!1,Ja=0,Ha=0,ya=0,$a=0,Ka=!1,La=!1,z=0,ab,eb=navigator.userAgent.match(/msie|trident/i),bb=!0,Ma=!1,Na=!1,Oa={},ua={},Pa,Qa,cb;x.when("a-modal").execute(function(b){cb=b});var Eb=h.once(function(){H();
m();fa();h.on("a:popover:afterUpdatePosition:immersiveView",Z);h.on("a:popover:afterShow:immersiveView",K);h.on("a:popover:afterHide:immersiveView",I);ja()});return function(b,e,c,f){sa=this;n=b;M=e;T.refToModel=M;na=f;S()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);d.isDefined(n.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",r.addStyleCodeToURL(n.staticImages.icon360,
"_FMpng_RI_"));sa.render=function(b,a,e,c,f,g){bb=!0;S()&&n.spin360ColorEnabled[b]&&!d.isDefined(n.spin360ColorData[b])&&(n.spin360ColorData[b]={},ba(b));d.isImmersiveViewEnabled(n,M.getCurrentItem().color)&&S()&&n.spin360ColorEnabled[b]&&(a===n.maxAlts&&(b=c.find(".item.imageThumbnail"),e=c.find(".item.videoThumbnail"),d.isDefined(e)&&1<e.length?e.last().remove():b.last().remove(),a--),b=c.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
h.declarative.create(b,"button-360-click"),c.append(b),a++,l.postCountMetric("dppc_display360"));return a};sa.update=function(b){};d.isImmersiveViewEnabled(n,M.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");na.register("imageClick",da);na.register("button360Click",da)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(h,a,d,u,l,x,v,r,C){function T(){var b=a("#iv360Tab").height();w.css("height",b);var e=w.find("#ivTitle360").outerHeight(!0),d=w.find("#ivVariationSelection360").outerHeight(!0),c=w.find("#ivThumbs360"),f=v.getDimension(c,"margin-top")+v.getDimension(c,"margin-bottom");c.css("height",b-e-d-f);b=w.find("#ivStage360");e=w[0]&&w[0].getBoundingClientRect&&Math.floor(w[0].getBoundingClientRect().width)||w.width();b.css("width",e-v.getDimension(w,"padding-left")-v.getDimension(w,"padding-right")-
w.find("#ivThumbColumn360").width()-v.getDimension(b,"margin-left")-v.getDimension(b,"margin-right"))}function ja(){V();var b=w.find("#ivLarge360");b.css({opacity:0});setTimeout(function(){b.css({opacity:.4});v.animateStageIn(b)},200);H()}function H(){if(0<W){var b=w.find(".iv360Hint");b.removeClass("iv360HintFaded");b.animate({opacity:1},200)}}function P(b,e){if(W<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*I+"px",height:R+"px"});d.hide();e.append(d);d.get(0).onload=function(){e.closest(document.documentElement).length&&
(W++,1===W&&(H(),0<na&&(l.time("dppc_loadTime360",Date.now()-na,g.mediaAsin),x.postTimeMetric("dppc_loadTime360",Date.now()-na))),0<F&&(l.time("dppc_perSpriteloadTime360",Date.now()-F,g.mediaAsin),x.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-F)),w.find("#iv360Spinner").hide(),d.show(),n=5*m.imageLocations[Math.floor(M/m.imageLocations[0].length)][M%m.imageLocations[0].length],P(b,e))};d.attr("src",b[W].replace(/(\._SP)\d+(,)\d+/,"$1"+fa+"$2"+Y));F=Date.now()}}function O(b){if(d.isDefined(m.spriteWidthSizes)&&
0<m.spriteWidthSizes.length){var a=m.spriteWidthSizes,e=a.length,c=a[0],f=a[e-1];if(b<=c)return c;if(b>f)return f;for(c=0;c<e;c++)if(b>a[c]&&b<=a[c+1])return a[c+1]}else return b}function V(){var b=w.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",g.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),S=!0,la())}function la(){if(d.isDefined(m.spriteURLs)&&d.isDefined(w)&&S&&!sa){var b=w.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(m.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",m.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(g.staticStrings.dragToSpin).appendTo(e);e.appendTo(b);e=m.imageWidth;var f=m.imageHeight,h=b.parent().width(),k=b.parent().height(),l=0,p=0;e/f>h/k?(fa=O(h),Y=Math.round(f/e*fa),I=Math.ceil(h),R=Math.ceil(Y/fa*h),p=(k-R)/2):(Y=O(k),fa=Math.round(e/f*Y),R=Math.ceil(k),I=Math.ceil(fa/Y*k),l=(h-I)/2);b.css({"margin-left":l,"margin-top":p,width:I+"px",height:R+"px",
overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*I+"px");P(m.spriteURLs,w.find("#image-360-sprites"),0);e=w.find("#ivLarge360");e.bind("mousedown",Q);e.bind("touchstart",U);e.bind("touchmove",K);e.bind("touchend",G);a(document).bind("mousemove",c);a(document).bind("mouseup",J);d.isDefined(g.staticImages.grab)&&b.css("cursor","url('"+g.staticImages.grab+"'), auto");sa=!0}}function U(b){X=!0;ba=b.originalEvent.targetTouches[0].clientX}function K(b){X&&(t(b.originalEvent.targetTouches[0].clientX-
ba),ba=b.originalEvent.targetTouches[0].clientX)}function G(b){X&&(X=!1)}function Q(b){k=!0;da=b.originalEvent.clientX;d.isDefined(g.staticImages.grabbing)&&(b=w.find("#ivLarge360"),b.css("cursor","url('"+g.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+g.staticImages.grabbing+"'), auto"));return!1}function c(b){k&&(t(b.originalEvent.clientX-da),da=b.originalEvent.clientX)}function J(b){k&&(k=!1,d.isDefined(g.staticImages.grab)&&(b=w.find("#ivLarge360"),
b.css("cursor","url('"+g.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function t(b){n-=b/I*180;N&&(l.count("dppc_360dragToSpin",g.mediaAsin),x.postCountMetric("dppc_360dragToSpin"));N=!1;for(b=n;0>b;)b+=360;for(;360<b;)b-=360;n=b;b=360;for(var a=0;a<W;a++)for(var e=0;e<m.imageLocations[a].length;e++){var c=Math.abs(n-5*m.imageLocations[a][e]);if(c<b){b=c;var f=a*m.imageLocations[0].length+e}}f!==M&&(b=Math.floor(f/m.imageLocations[0].length),b!==Math.floor(M/
m.imageLocations[0].length)&&(d.isDefined(ha)||(ha=document.createElement("canvas").getContext("2d")),a=w.find("#image-360-sprites").children(),ha.drawImage(a[b],0,0)),b=w.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));M=f;b=f%m.imageLocations[0].length*-1*I;f=-1*Math.floor(f/m.imageLocations[0].length)*R;a=w.find("#ivLarge360").children("#image-360-sprites");a.css("-webkit-transform","translate3d("+b+"px, "+f+"px, 0)");a.css("transform",
"translate3d("+b+"px, "+f+"px, 0)")}function D(){if(ma){w=a("#ivMain360");var b=p.getCurrentItem().color;y()&&L(b);m=y()?g.spin360ColorData[b]:ia;v.populateTitle(w.find("#ivTitle360"),160,g);v.populateVariationSelection(w.find("#ivVariationSelection360"));w.find("#ivLarge360").empty();W=0;sa=S=!1;M=n=0;e();ma=!1}0!==a("#iv360Tab").height()&&(v.detachImmersiveViewResizeHandler(D),T(),ja(),na=Date.now(),ca=N=!0,l.count("dppc_click360",g.mediaAsin),x.postCountMetric("dppc_click360"))}function E(a,e,
c){a=g.colorToAsin[c];var b={},f=500;if(!a||!a.asin)if(c===g.defaultColor)a={asin:g.winningAsin};else return;b.params={asin:a.asin};var h="360"+a.asin,k=Date.now();b.success=function(a){l.time("dppc_asyncRequestTime360",Date.now()-k,g.mediaAsin);x.postTimeMetric("dppc_asyncRequestTime360",Date.now()-k);a&&d.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&r.setData(a),d.ajaxState(h,"success")):b.error()};b.error=function(){l.count("dppc_asyncFailedTransient360",g.mediaAsin);x.postCountMetric("dppc_asyncFailedTransient360");
l.time("dppc_asyncRequestTime360",Date.now()-k,g.mediaAsin);x.postTimeMetric("dppc_asyncRequestTime360",Date.now()-k);f*=2;16E3>=f?setTimeout(function(){k=Date.now();u.load("/gp/product/features/apparel-main-image/360.html",b)},f):(l.count("dppc_asyncFailed360",g.mediaAsin),x.postCountMetric("dppc_asyncFailed360"),d.ajaxState(h,"fail"))};d.ajaxState(h)&&"fail"!==d.ajaxState(h)||(u.load("/gp/product/features/apparel-main-image/360.html",b),d.ajaxState(h,"sent"))}function y(){return g&&d.isDefined(g.spin360ConfigEnabled)&&
g.spin360ConfigEnabled}function L(a){return d.isDefinedAndNotEmpty(g.spin360ColorData[a])?!0:d.isDefined(g.spin360LazyLoadEnabled)&&g.spin360LazyLoadEnabled}function B(){ca&&(l.time("dppc_duration360",Date.now()-na,g.mediaAsin),x.postTimeMetric("dppc_duration360",Date.now()-na),ca=!1)}function f(a){a=g.colorToAsin[a.color]&&g.colorToAsin[a.color].asin;a||(a=g.mediaAsin);return a}var A,g,p,ea,w,m,I,R,Y,fa,da,ba,S=!1,sa=!1,n=0,M=0,na=0,F=0,k=!1,X=!1,W=0,ha,N=!0,ca=!1,ma=!0,e=h.once(function(){v.attachImmersiveViewResizeHandler(D);
v.attachImmersiveViewResizeHandler(T);v.attachImmersiveViewResetHandler(B);v.attachTabDeselectHandler("iv360Tab",B)});return function(b,e,c,k){A=this;g=b;p=e;ea=k;b=g.landingAsinColor;e=g.defaultColor;d.isDefined(g.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(g.staticImages.icon360,"_FMpng_RI_"));y()&&(g.spin360ColorData||(g.spin360ColorData={}),b===e&&d.isDefinedAndEmpty(g.spin360ColorData[e])&&delete g.spin360ColorData[e]);
h.on(C.TWISTER_DATA_EVENT,function(a){f(p.getCurrentItem())===a&&(m=r.getData(a),la(),a={type:"updatedData",data:p.getCurrentItem()},ea.dispatch("updateView",a))});A.render=function(b,e,c,k,m,A){ma=!0;!y()||d.isDefinedAndEmpty(g.spin360ColorData[b])&&!r.getData(f(p.getCurrentItem()))?v.hideTabHeading("iv360TabHeading"):(g.spin360ColorData[b]=r.getData(f(p.getCurrentItem())),d.isDefinedAndNotEmpty(g.spin360ColorData[b])?(a("#ivThumbs360").hide(),v.unhideTabHeading("iv360TabHeading"),d.isImmersiveViewEnabled(g,
p.getCurrentItem().color)&&y()&&L(b)&&(e===g.maxAlts&&(b=k.find(".item.imageThumbnail"),c=k.find(".item.videoThumbnail"),d.isDefined(c)&&1<c.length?c.last().remove():b.last().remove(),e--),b=k.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(b,"button-360-click"),k.append(b),l.count("dppc_display360",g.mediaAsin),x.postCountMetric("dppc_display360"))):d.isDefined(g.spin360LazyLoadEnabled)&&g.spin360LazyLoadEnabled?
(g.spin360ColorData[b]={},v.hideTabHeading("iv360TabHeading"),E(k,e,b)):v.hideTabHeading("iv360TabHeading"))};A.update=function(a){};v.attachTabSelectHandler("iv360Tab",D)}});x.register("nexusLogger360",function(){return{count:function(h,a){C.ue&&C.ue.event({asin:a,metricName:h,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(h,a,d){C.ue&&C.ue.event({asin:d,metricName:h,metricValue:a},"hit-360","hit360.clientEvent.3")}}});x.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
x.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(h,a){var d={};return{setData:function(u){var l=u.asin;d[l]||(d[l]=u,h.trigger(a.TWISTER_DATA_EVENT,l))},getData:function(a){return d[a]}}});"use strict";x.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(h){function a(){this.render=function(){};this.update=function(){}}return function(d,u,l,C){var v=!1,r=new a;x.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==
ia&&(v=!0,r=new a(d,u,l,C))});d&&!0===d.showroomEnabled&&!1===v&&h.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return r}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(h,a,d,u,l,x,v){function r(){E.delegate(".ivThumb","click",function(){var c=a(this);E.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&
(y.type="chromeful-video",y.index=c.attr("id").split("_")[1])})}function T(){if(S){var c=a("#ivVideosTab").height();E.css("height",c);var d=E.find(".vse-lb-container");L=c-l.getDimension(d,"padding-top")-l.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(Y){E.css({"max-width":Math.floor(1.77*L)});return}c=E.find(".vse-player-container");d=E.find(".vse-video-action-strip");var f=E.find(".vse-lb-video-metadata"),g=Math.floor(L-l.getDimension(f,"height")-l.getDimension(d,
"height")),e=Math.floor(1.77*g);c.css({"max-height":g,"max-width":e,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":e,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":e,marginLeft:"auto",marginRight:"auto"})}fa&&(c=E.find(".vse-vertical-scroll"),d=l.getDimension(c,"margin-top")+l.getDimension(c,"margin-bottom"),c.css("max-height",L-d))}function ka(){Z();B&&B.pause();da=!1;I=!0;p=null;ba=!0;S=!1}function Z(){da=!1;B&&B.pause()}function H(c){p=c.clickTimeStamp?c.clickTimeStamp:h.now();
d.isDefined(D)&&(D.eventTimestamp=p);da=!0;R&&(v.get(h,"#ivVideoBlock",t,X,W),E=a("#ivVideoBlock"),J.getCurrentItem(),y=J.getCurrentItem(),na(),K());T();R=!1;V()}function P(c){R&&(E=a("#ivVideoBlock"),J.getCurrentItem(),y=J.getCurrentItem(),na());da&&V();T()}function O(a){B=a.player;u.postTimeMetric("vse_ib_desktop_player_initialisation_duration",h.now()-M);c.imageBlockRenderingStartTime&&u.postTimeMetric("vse_ib_desktop_time_to_player_interactive",h.now()-c.imageBlockRenderingStartTime);S&&(K(),
V())}function V(){if(B&&da&&(E.find(".vse-lb-container").animate({opacity:1},200),B.play(D),u.postCountMetric("dpcc_vse_videoBlock_video_played"),I)){var a=C.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,u.postTimeMetric("dpcc_vse_vitff",a),I=!1)}}function la(){h.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function U(a){f=a.popover.$popover;S=!0;K()}function K(){if(S&&ba&&da&&B){f.addClass(h.$(f).find(".vse-lb-container").data("cssClass"));var a=D;ia&&(a=n,ia=
!1);h.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});T();ba=!1}}function G(a){document.getElementsByClassName("videoBlockIngress")[0].click();n=a;ia=!0}var Q,c,J,t,D,E,y,L,B,f,A,g,p,ea,w,m,I=!0,R=!0,Y=!1,fa=!1,da=!1,ba=!0,S=!1,ia=!1,n,M=0,na=h.once(function(){r();l.attachImmersiveViewResizeHandler(P);l.attachTabDeselectHandler("ivVideosTab",Z);l.attachImmersiveViewResetHandler(ka)}),F=function(c,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");
u.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);Y=!0;a("#ivVideoBlock").css({"max-width":1.77*L,margin:"0 auto"})},k=function(c,d,f){R||v.get(c,"#ivVideoBlock",t,X,W);a("#ivVideoBlockSpinner").addClass("aok-hidden")},X=function(a,c,d){fa=!0;T()},W=function(a,c,d){u.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};return function(a,f,n,r){Q=this;c=a;J=f;Q.render=function(a,b,f,n,r,u){a=J.getCurrentItem().color;b=d.getVideoHash(a,
0,c);!0===u?A=c.mediaAsin:(A=c.colorToAsin[a]&&c.colorToAsin[a].asin,A=d.isDefined(A)?A:c.mediaAsin);g=!0===c.useVSEVideos?"VIDEO_ID":"physicalID";ea=c.contentWeblab;w=c.contentWeblabTreatment;m=c.parentAsin||"";R=!0;-1===b?l.hideTabHeading("ivVideosTabHeading"):(l.unhideTabHeading("ivVideosTabHeading"),t={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,locale:b.languageCode,product:{contentID:A,contentIDType:"ASIN",parentContentID:m,parentContentIDType:"ASIN"},
video:{contentID:b.mediaObjectId,contentIDType:g,videoURL:b.url,imageURL:b.slateUrl,rankingStrategy:b.rankingStrategy},requestId:c.dpRequestId,weblabContext:[{name:ea,assignment:w,ignoreForG2S2Key:!0}],metadata:{ProductTitle:c.title}},D={videoUrl:t.video.videoURL,contentId:t.video.contentID,duration:0,vendorCode:"",eventTimestamp:d.isDefined(p)?p:h.now(),imageUrl:t.video.imageURL,productAsin:t.product.contentID,rankingStrategy:t.video.rankingStrategy,index:0},d.isDefinedAndNotEmpty(B)&&(B.destroy(),
B=null),M=h.now(),x.get(h,"#ivVideoBlock",t,k,F))};Q.update=function(a){};l.attachTabSelectHandler("ivVideosTab",H);h.on("vsePlayer-detailpage-imageblock",O);h.on("a:popover:afterShow:immersiveView",U);h.on("a:popover:beforeHide:immersiveView",la);h.on("detailpage-imageblock-leave-pip",G)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(h,a,d,u,l){function C(d,h){if(d){D=c.getCurrentItem();
0==Object.entries(B).length&&v();var f=D.shoppableScene;f==ia?(d=K(Object.values(B)[0]),f=Object.values(B)[0].shoppableScene):d=K(t[D.index]);L=f.physicalId;var l=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<l.length){var A=a("\x3cimg\x3e");A.attr("id","shoppableSceneIvImage");A.attr("src",d);A.css({"max-height":"500px","max-width":"650px"});l.replaceWith(A);d=r(f);f=a(".shoppable-scene-image-block-tags-in-iv");f.empty();d.appendTo(f)}else J.hide(),O();ka();d=D.shoppableScene?D.shoppableScene:
Object.values(B)[0].shoppableScene;Z(d);V(h,E,null,L)}}function v(){t=Q.colorImages[D.color];E=Q.colorToAsin[D.color].asin;t.forEach(function(a){a.shoppableScene!=ia&&(B[a.shoppableScene.physicalId]=a)})}function r(c){var d=a("\x3cspan\x3e");h.each(c.tags,function(f){var g=a("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});g.append(ja(!1));g.append(ja(!0));h.declarative.create(g,"scenes-show-details-tags-ib-iv-click",{tagId:f.link,physicalId:c.physicalId});
d.append(g)});return d.children()}function ja(c){var d=a("\x3cimg src\x3d'"+(c?Q.staticImages.shoppableSceneDotHighlighted:Q.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");d.css({display:c?"none":"inline-block"});d.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return d}function ka(){var c=a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(B).forEach(function(d){var f=B[d],l=a("\x3cimg\x3e");f=K(f);l.attr("id","shoppable-scene-thumbnail-"+d);l.attr("src",
f);l.addClass("shoppable-scene-thumbnail");h.declarative.create(l,"scenes-thumbnail-ib-iv-click",{physicalId:d});l.appendTo(c)})}function Z(a){U();x.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){h.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}function H(a,c){U();x.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-recommendation-col-update",
{tagId:a,physicalId:c})})}function P(){var c=B[L].shoppableScene,d=a(".shoppable-scene-image-block-tags-in-iv");d.hide();c=r(c);d.empty();c.appendTo(d);d.show();J.show()}function O(){var c=K(B[L]),d=a("#shoppableSceneIvImage");d.bind("load",P);d.attr("src",c)}function V(a,c,d,l){var f="shoppable-scene-dp-iv:mirai:"+a;x.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,
csmCounterName:f,asin:c,tagId:d,physicalId:l})})}function la(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");h.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function U(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var d=a("\x3cimg\x3e");d.attr("id",
"shoppable-scene-iv-recommendation-waiting-spinner");d.attr("src",Q.staticImages.spinner);d.css({position:"relative"}).appendTo(c)}function K(a){return a.hiRes||a.large||a.main[a.main.length-1]}var G=void 0,Q=void 0,c=void 0,J=void 0,t=void 0,D=void 0,E=void 0,y=void 0,L=void 0,B={};h.declarative("shoppable-scene-image-click","click",function(a){C(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});h.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=y){var d=y.find(".active-tag"),
f=y.find(".inactive-tag");d.css({display:"none"});f.css({display:"inline-block"})}d=c.find(".active-tag");f=c.find(".inactive-tag");d.css({display:"inline-block"});d.addClass("mirai-scene-dot-pulsate");f.css({display:"none"});y=c;la();H(a.data.tagId,a.data.physicalId);V("IMMERSIVE_VIEW_PRODUCT_TAG",E,a.data.tagId,a.data.physicalId)});h.declarative("scenes-thumbnail-ib-iv-click","click",function(a){L=a.data.physicalId;O();Z(B[L].shoppableScene)});return function(d,h,g,l){G=this;Q=d;c=h;J=a("#ivMainShoppableScene");
G.render=function(a,c,d,f,g,h){};G.update=function(a){};(d=document.getElementById("ivShoppableSceneHeading"))&&d.addEventListener("click",function(a){a=c.getCurrentItem();C(null==D||D.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(c){var g=window.AmazonUIPageJS||window.P,l=g._namespace||g.attributeErrors,a=l?l("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):g;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,g,l){c.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,b){try{var d=a.$,h=d("#featurebullets_feature_div"),m=d("#productOverview_feature_div");if(h&&0<h.length&&(b.postCountMetric("FeatureBulletsRendered.GV"),m&&
0<m.length)){b.postCountMetric("FeatureBulletsRenderedWithPO.GV");var f=d("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(b.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(e){b.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(e){b.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(e){c.log("Feature bullets metric logging failed with error: ( "+
e+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";c.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,b,d,h,m){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var e=d.colorImages,a=0,b;for(b in e)e[b]&&e[b].length&&(a+=e[b].length);e="image_size_bucket:gt"+f[f.length-1];for(b=1;b<f.length;b++)if(a<=f[b]){e="image_size_bucket:"+f[b-1]+"-"+f[b];break}m.postCountMetric(e);h.addTag(e)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,g.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;h.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),h.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";c.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});c.register("postEarlyMetric",function(){return null});"use strict";c.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var b=g.ue;if(b){var d=b.count(a)||0;b.count(a,d+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var d=g.ue;d&&d.count(a,b)}},emitNexusMetric:function(a){g.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,b,d,h,m,f,e,c,n,p){e="";c=c||"";try{e=g.location.href;var k=e.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);k&&(k[1]||k[2]||k[3])&&(c=k[1]||k[2]||
k[3])}catch(q){(k=g.ue)&&k.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:p,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+b,videoAsin:d,videoAsinList:"",rankingStrategy:h===l?"":h,groupType:f===l?"":f,pageUrl:e,pageAsin:c,weblabIds:n===l?"":n,customerId:m||""}}}});"use strict";c.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var c=a.state("desktop-landing-image-data");
c&&(c=a.values(c),b=b.getResourceTimeByName("img",c),a.each(b,function(a){a&&(a.responseEnd!=l&&d.postCountMetric("ibDesktopLandingImageDownloadTime",g.parseInt(a.responseEnd)),a.transferSize!=l&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",g.parseInt(a.transferSize)),d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict"});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,p=h._namespace||h.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):h;d.guardFatal?d.guardFatal(l)(d,window):d.execute(function(){l(d,window)})})(function(l,h,p){l.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){h.performance&&performance.now&&h.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(h.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((h.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=h.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){if(k.isDefined(h.DetailPage)&&
k.isDefined(h.DetailPage.StateController)){a.empty();var c=h.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],f=c.selected_variations[e];e=c.variation_display_labels[e];f&&g("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+f).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,d){h.ueLogError&&h.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){l.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=
3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=
c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},
q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||
500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(e,d,a,c,b){var f=e.$;f(d+" div[data-configuration]").each(function(){k({A:e,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-
1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
